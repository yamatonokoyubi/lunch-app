# Milestone 6: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç®¡ç†æ©Ÿèƒ½ - GitHub Issues ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

**ä½œæˆæ—¥**: 2025å¹´10æœˆ13æ—¥  
**å¯¾è±¡**: Issue #1ï½#10ï¼ˆPhase 1ï½3 å…¨æ©Ÿèƒ½ï¼‰

---

## ğŸ“Š Issueæ¦‚è¦

| Issue | ã‚¿ã‚¤ãƒˆãƒ« | å„ªå…ˆåº¦ | å·¥æ•° |
|-------|---------|--------|------|
| #1 | ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç®¡ç†ç”»é¢ã®åŸºæœ¬å®Ÿè£…ï¼ˆä¸€è¦§è¡¨ç¤ºãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ»ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ | ğŸ”´ Critical | 8-12h |
| #2 | ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆãƒ»ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ã®å®Ÿè£…ï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ | ğŸ”´ High | 6-8h |
| #3 | ãƒ¡ãƒ‹ãƒ¥ãƒ¼å‰Šé™¤æ©Ÿèƒ½ã¨ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®å®Ÿè£…ï¼ˆè«–ç†å‰Šé™¤/ç‰©ç†å‰Šé™¤å¯¾å¿œï¼‰ | ğŸ”´ High | 3-4h |
| #4 | ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ãƒ»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œï¼‰ | ğŸŸ¡ Medium | 8-10h |
| #5 | ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ã®ä¸¦ã³æ›¿ãˆãƒ»ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆã‚«ãƒ©ãƒ ãƒ˜ãƒƒãƒ€ãƒ¼ã‚¯ãƒªãƒƒã‚¯ï¼‰ | ğŸŸ¡ Medium | 4-6h |
| #6 | ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ¤œç´¢æ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œç´¢ï¼‰ | ğŸŸ¡ Medium | 5-7h |
| #7 | ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€æ‹¬æ“ä½œæ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆè¤‡æ•°é¸æŠãƒ»ä¸€æ‹¬å…¬é–‹/éå…¬é–‹ï¼‰ | ğŸŸ¡ Medium | 6-8h |
| #8 | ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚«ãƒ†ã‚´ãƒªç®¡ç†æ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆã‚«ãƒ†ã‚´ãƒªCRUDãƒ»ãƒ•ã‚£ãƒ«ã‚¿ï¼‰ | ğŸŸ¢ Low | 12-16h |
| #9 | åœ¨åº«æ•°ç®¡ç†ãƒ»è‡ªå‹•åœ¨åº«åˆ‡ã‚Œæ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆåœ¨åº«è¿½è·¡ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆï¼‰ | ğŸŸ¢ Low | 10-14h |
| #10 | ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¤‰æ›´å±¥æ­´ãƒ»ç›£æŸ»ãƒ­ã‚°æ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆå¤‰æ›´è¿½è·¡ãƒ»ç›£æŸ»å¯¾å¿œï¼‰ | ğŸŸ¢ Low | 8-12h |

### ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥æ§‹æˆ

| ãƒ•ã‚§ãƒ¼ã‚º | Issue | åˆè¨ˆå·¥æ•° | èª¬æ˜ |
|---------|-------|---------|------|
| **Phase 1ï¼ˆå¿…é ˆï¼‰** | #1ï½#3 | 17-24h | åŸºæœ¬çš„ãªCRUDæ©Ÿèƒ½ |
| **Phase 2ï¼ˆæ¨å¥¨ï¼‰** | #4ï½#7 | 23-31h | UXå‘ä¸Šæ©Ÿèƒ½ |
| **Phase 3ï¼ˆæ‹¡å¼µï¼‰** | #8ï½#10 | 30-42h | é«˜åº¦ãªç®¡ç†æ©Ÿèƒ½ |
| **åˆè¨ˆ** | #1ï½#10 | **70-97h** | å…¨æ©Ÿèƒ½ |

---

## Issue #1: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç®¡ç†ç”»é¢ã®åŸºæœ¬å®Ÿè£…

### ğŸ“‹ ã‚¿ã‚¤ãƒˆãƒ«
**ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç®¡ç†ç”»é¢ã®åŸºæœ¬å®Ÿè£…ï¼ˆä¸€è¦§è¡¨ç¤ºãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ»ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼‰**

### ğŸ“ èª¬æ˜

#### ğŸ¯ ç›®çš„ï¼ˆå®Ÿè£…å†…å®¹ï¼‰
åº—èˆ—ã‚¹ã‚¿ãƒƒãƒ•ãŒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ä¸€è¦§ã§ç¢ºèªã—ã€å…¬é–‹/éå…¬é–‹çŠ¶æ…‹ã‚’ç®¡ç†ã§ãã‚‹ç”»é¢ã‚’å®Ÿè£…ã—ã¾ã™ã€‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIï¼ˆ`GET /api/store/menus`ï¼‰ã¯å®Ÿè£…æ¸ˆã¿ï¼ˆãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸90%ï¼‰ã®ãŸã‚ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”»é¢ã®ã¿ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§å³åº§ã«åˆ©ç”¨å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

**å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½**:
- âœ… ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ã‚’ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§è¡¨ç¤º
- âœ… å…¬é–‹ä¸­/éå…¬é–‹/ã™ã¹ã¦ ã®ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½
- âœ… ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ20ä»¶/ãƒšãƒ¼ã‚¸ã€æœ€å¤§100ä»¶/ãƒšãƒ¼ã‚¸ï¼‰
- âœ… ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒƒã‚¸ï¼ˆå…¬é–‹=ğŸŸ¢ç·‘ã€éå…¬é–‹=ğŸ”´èµ¤ï¼‰
- âœ… ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆPCãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»ã‚¹ãƒãƒ›å¯¾å¿œï¼‰
- âœ… ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

#### ğŸ”§ ã‚¿ã‚¹ã‚¯ï¼ˆæŠ€è¡“ä»•æ§˜ï¼‰

**1. HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ**
```
ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«: templates/store_menus.html
```
- æ—¢å­˜ã®`store_dashboard.html`ã‚’ãƒ™ãƒ¼ã‚¹ã«ä½œæˆ
- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’çµ±ä¸€
- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆåå‰ã€ä¾¡æ ¼ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€æ“ä½œåˆ—ï¼‰
- ãƒ•ã‚£ãƒ«ã‚¿ãƒœã‚¿ãƒ³ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆã™ã¹ã¦/å…¬é–‹ä¸­/éå…¬é–‹ï¼‰
- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**2. CSSå®Ÿè£…**
```
ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«: static/css/store_menus.css
```
- ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ï¼ˆzebra stripingï¼‰
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒƒã‚¸ï¼ˆ.badge-available, .badge-unavailableï¼‰
- ãƒ•ã‚£ãƒ«ã‚¿ãƒœã‚¿ãƒ³ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆ.filter-groupï¼‰
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼ˆ@media queriesï¼‰

**3. JavaScriptå®Ÿè£…**
```
ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«: static/js/store_menus.js
```
ä¸»è¦é–¢æ•°:
- `fetchMenus(isAvailable, page, perPage)` - ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§å–å¾—
- `renderMenuTable(menus)` - ãƒ†ãƒ¼ãƒ–ãƒ«æç”»
- `renderPagination(total, currentPage, perPage)` - ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³æç”»
- `handleFilterChange(filter)` - ãƒ•ã‚£ãƒ«ã‚¿åˆ‡æ›¿
- `showLoading()` / `hideLoading()` - ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºåˆ¶å¾¡
- `handleError(error)` - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

**4. APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**
```
ä½¿ç”¨API: GET /api/store/menus
ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:
  - is_available: boolean (optional) - å…¬é–‹çŠ¶æ…‹ãƒ•ã‚£ãƒ«ã‚¿
  - page: integer (default: 1) - ãƒšãƒ¼ã‚¸ç•ªå·
  - per_page: integer (default: 20) - 1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°

ãƒ¬ã‚¹ãƒãƒ³ã‚¹:
{
  "menus": [
    {
      "id": 1,
      "name": "ç‰¹è£½å¼å½“",
      "price": 1200,
      "description": "äººæ°—No.1ã®å¼å½“",
      "is_available": true,
      "created_at": "2025-10-01T10:00:00Z",
      "updated_at": "2025-10-10T15:30:00Z"
    }
  ],
  "total": 45
}
```

**5. ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š**
```python
# main.py ã¾ãŸã¯ routers/store.py ã«è¿½åŠ 
@router.get("/menus", response_class=HTMLResponse)
async def menu_management_page(request: Request):
    return templates.TemplateResponse("store_menus.html", {"request": request})
```

#### âœ… å—ã‘å…¥ã‚ŒåŸºæº–

**æ©Ÿèƒ½è¦ä»¶**:
- [ ] `/store/menus` ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§è¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆåå‰ã€ä¾¡æ ¼ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€æ“ä½œï¼‰
- [ ] ã€Œã™ã¹ã¦ã€ãƒ•ã‚£ãƒ«ã‚¿ã§å…¨ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã€Œå…¬é–‹ä¸­ã€ãƒ•ã‚£ãƒ«ã‚¿ã§`is_available=true`ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã¿è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã€Œéå…¬é–‹ã€ãƒ•ã‚£ãƒ«ã‚¿ã§`is_available=false`ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã¿è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãŒæ©Ÿèƒ½ã—ã€20ä»¶ãšã¤è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒšãƒ¼ã‚¸ç•ªå·ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨è©²å½“ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã™ã‚‹
- [ ] ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒƒã‚¸ãŒæ­£ã—ãè‰²åˆ†ã‘ã•ã‚Œã¦ã„ã‚‹ï¼ˆå…¬é–‹=ç·‘ã€éå…¬é–‹=èµ¤ï¼‰

**UI/UXè¦ä»¶**:
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆã‚¹ãƒãƒ›ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã§æ­£å¸¸è¡¨ç¤ºï¼‰
- [ ] ãƒ‡ãƒ¼ã‚¿èª­è¾¼ä¸­ã«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] APIã‚¨ãƒ©ãƒ¼æ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] æ—¢å­˜ãƒšãƒ¼ã‚¸ï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€æ³¨æ–‡ç®¡ç†ï¼‰ã¨ãƒ‡ã‚¶ã‚¤ãƒ³ä¸€è²«æ€§ãŒã‚ã‚‹

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶**:
- [ ] æœªèªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹
- [ ] åº—èˆ—ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆowner, manager, staffï¼‰ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- [ ] é¡§å®¢ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ï¼ˆ403ã‚¨ãƒ©ãƒ¼ï¼‰

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶**:
- [ ] åˆæœŸè¡¨ç¤ºãŒ1ç§’ä»¥å†…ã«å®Œäº†ã™ã‚‹
- [ ] ãƒšãƒ¼ã‚¸åˆ‡æ›¿ãŒ500msä»¥å†…ã«å®Œäº†ã™ã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- [ ] E2Eãƒ†ã‚¹ãƒˆ: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ãƒšãƒ¼ã‚¸ã®è¡¨ç¤º
- [ ] E2Eãƒ†ã‚¹ãƒˆ: ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
- [ ] E2Eãƒ†ã‚¹ãƒˆ: ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
- [ ] E2Eãƒ†ã‚¹ãƒˆ: æ¨©é™ãƒã‚§ãƒƒã‚¯ï¼ˆé¡§å®¢ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦ï¼‰

---

## Issue #2: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆãƒ»ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ã®å®Ÿè£…

### ğŸ“‹ ã‚¿ã‚¤ãƒˆãƒ«
**ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆãƒ»ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ã®å®Ÿè£…ï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰**

### ğŸ“ èª¬æ˜

#### ğŸ¯ ç›®çš„ï¼ˆå®Ÿè£…å†…å®¹ï¼‰
åº—èˆ—ã‚¹ã‚¿ãƒƒãƒ•ãŒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ä½œæˆãƒ»ç·¨é›†ã§ãã‚‹ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ•ã‚©ãƒ¼ãƒ ã‚’å®Ÿè£…ã—ã¾ã™ã€‚ç›´æ„Ÿçš„ãªæ“ä½œã§å­£ç¯€é™å®šãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®è¿½åŠ ã‚„ä¾¡æ ¼å¤‰æ›´ãŒå¯èƒ½ã«ãªã‚Šã€åœ¨åº«çŠ¶æ³ã«å¿œã˜ãŸè¿…é€Ÿãªãƒ¡ãƒ‹ãƒ¥ãƒ¼ç®¡ç†ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

**å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½**:
- âœ… ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ–°è¦ä½œæˆãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ•ã‚©ãƒ¼ãƒ 
- âœ… ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ•ã‚©ãƒ¼ãƒ 
- âœ… ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼‰
- âœ… ã‚µãƒ¼ãƒãƒ¼å´ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
- âœ… å…¬é–‹/éå…¬é–‹ãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒ
- âœ… ä¿å­˜æˆåŠŸæ™‚ã®ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥
- âœ… ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ä¸­ã®ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹

#### ğŸ”§ ã‚¿ã‚¹ã‚¯ï¼ˆæŠ€è¡“ä»•æ§˜ï¼‰

**1. ãƒ¢ãƒ¼ãƒ€ãƒ«HTMLè¿½åŠ **
```html
<!-- templates/store_menus.html ã«è¿½åŠ  -->
<div id="menuModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2 id="modalTitle">ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ä½œæˆ</h2>
    <form id="menuForm">
      <div class="form-group">
        <label>åå‰ <span class="required">*</span></label>
        <input type="text" name="name" maxlength="255" required>
        <span class="error-message" id="name-error"></span>
      </div>
      
      <div class="form-group">
        <label>ä¾¡æ ¼ (å††) <span class="required">*</span></label>
        <input type="number" name="price" min="1" required>
        <span class="error-message" id="price-error"></span>
      </div>
      
      <div class="form-group">
        <label>èª¬æ˜</label>
        <textarea name="description" rows="3"></textarea>
      </div>
      
      <div class="form-group">
        <label>ç”»åƒURL</label>
        <input type="url" name="image_url">
      </div>
      
      <div class="form-group">
        <label class="toggle-label">
          <input type="checkbox" name="is_available" checked>
          <span>å…¬é–‹ã™ã‚‹</span>
        </label>
      </div>
      
      <div class="form-actions">
        <button type="button" class="btn-secondary" onclick="closeModal()">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
        <button type="submit" class="btn-primary">ä¿å­˜</button>
      </div>
    </form>
  </div>
</div>
```

**2. JavaScriptå®Ÿè£…**
```javascript
// static/js/store_menus.js ã«è¿½åŠ 

// ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
function validateMenuForm(formData) {
  const errors = {};
  
  if (!formData.name || formData.name.trim().length === 0) {
    errors.name = "åå‰ã¯å¿…é ˆã§ã™";
  } else if (formData.name.length > 255) {
    errors.name = "åå‰ã¯255æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„";
  }
  
  if (!formData.price || formData.price < 1) {
    errors.price = "ä¾¡æ ¼ã¯1å††ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„";
  }
  
  return errors;
}

// ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆ
async function createMenu(formData) {
  const response = await fetch('/api/store/menus', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${getAuthToken()}`
    },
    body: JSON.stringify(formData)
  });
  
  if (!response.ok) {
    const error = await response.json();
    throw new Error(error.detail || 'ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ');
  }
  
  return await response.json();
}

// ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ›´æ–°
async function updateMenu(menuId, formData) {
  const response = await fetch(`/api/store/menus/${menuId}`, {
    method: 'PUT',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${getAuthToken()}`
    },
    body: JSON.stringify(formData)
  });
  
  if (!response.ok) {
    const error = await response.json();
    throw new Error(error.detail || 'ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ');
  }
  
  return await response.json();
}

// ãƒ¢ãƒ¼ãƒ€ãƒ«é–‹é–‰
function openCreateModal() {
  document.getElementById('modalTitle').textContent = 'ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ä½œæˆ';
  document.getElementById('menuForm').reset();
  document.getElementById('menuModal').classList.add('active');
}

function openEditModal(menu) {
  document.getElementById('modalTitle').textContent = 'ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ç·¨é›†';
  document.querySelector('[name="name"]').value = menu.name;
  document.querySelector('[name="price"]').value = menu.price;
  document.querySelector('[name="description"]').value = menu.description || '';
  document.querySelector('[name="image_url"]').value = menu.image_url || '';
  document.querySelector('[name="is_available"]').checked = menu.is_available;
  document.getElementById('menuModal').classList.add('active');
}

function closeModal() {
  document.getElementById('menuModal').classList.remove('active');
}
```

**3. CSSå®Ÿè£…**
```css
/* static/css/store_menus.css ã«è¿½åŠ  */
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.4);
}

.modal.active {
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-content {
  background-color: white;
  padding: 30px;
  border-radius: 8px;
  width: 90%;
  max-width: 600px;
}

.form-group {
  margin-bottom: 20px;
}

.error-message {
  color: #e74c3c;
  font-size: 14px;
  display: none;
}

.error-message.active {
  display: block;
}
```

**4. ä½¿ç”¨API**
```
ä½œæˆ: POST /api/store/menus
æ›´æ–°: PUT /api/store/menus/{menu_id}

ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£:
{
  "name": "æ˜¥ã®ç‰¹è£½å¼å½“",
  "price": 1500,
  "description": "æ¡œã‚¨ãƒ“ã¨ç­ã®æ˜¥é™å®šå¼å½“",
  "image_url": "https://example.com/image.jpg",
  "is_available": true
}
```

#### âœ… å—ã‘å…¥ã‚ŒåŸºæº–

**æ©Ÿèƒ½è¦ä»¶**:
- [ ] ã€Œ+ æ–°è¦ä½œæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ä½œæˆãƒ¢ãƒ¼ãƒ€ãƒ«ãŒé–‹ã
- [ ] ã€Œç·¨é›†ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒé–‹ã
- [ ] ãƒ¢ãƒ¼ãƒ€ãƒ«ã«æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆç·¨é›†æ™‚ï¼‰
- [ ] åå‰ãƒ»ä¾¡æ ¼ãŒæœªå…¥åŠ›ã®å ´åˆã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ä¾¡æ ¼ãŒ0å††ä»¥ä¸‹ã®å ´åˆã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] å…¬é–‹/éå…¬é–‹ãƒˆã‚°ãƒ«ãŒæ©Ÿèƒ½ã™ã‚‹
- [ ] ã€Œä¿å­˜ã€ãƒœã‚¿ãƒ³ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒä½œæˆ/æ›´æ–°ã•ã‚Œã‚‹
- [ ] ä¿å­˜æˆåŠŸæ™‚ã«ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ä¿å­˜å¾Œã«ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒé–‰ã˜ã‚‹
- [ ] ä¿å­˜å¾Œã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ãŒè‡ªå‹•æ›´æ–°ã•ã‚Œã‚‹

**UI/UXè¦ä»¶**:
- [ ] ãƒ¢ãƒ¼ãƒ€ãƒ«ã®å¤–å´ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨é–‰ã˜ã‚‹
- [ ] ESCã‚­ãƒ¼ã§ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‰ã‚Œã‚‹
- [ ] ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ä¸­ã«ãƒœã‚¿ãƒ³ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹
- [ ] é€ä¿¡ä¸­ã«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºãŒã‚ã‚‹
- [ ] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒè©²å½“ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ä¸‹ã«è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå…¥åŠ›ä¸­ã«ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯ï¼‰

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶**:
- [ ] owner, manager ã®ã¿ãŒä½œæˆãƒ»ç·¨é›†ã§ãã‚‹ï¼ˆAPIãƒ¬ãƒ™ãƒ«ã§åˆ¶å¾¡æ¸ˆã¿ï¼‰
- [ ] staff ã¯ä½œæˆãƒ»ç·¨é›†ã§ããªã„
- [ ] XSSå¯¾ç­–ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ï¼‰

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- [ ] E2Eãƒ†ã‚¹ãƒˆ: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆãƒ•ãƒ­ãƒ¼ã®å‹•ä½œç¢ºèª
- [ ] E2Eãƒ†ã‚¹ãƒˆ: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç·¨é›†ãƒ•ãƒ­ãƒ¼ã®å‹•ä½œç¢ºèª
- [ ] E2Eãƒ†ã‚¹ãƒˆ: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã®ç¢ºèª
- [ ] E2Eãƒ†ã‚¹ãƒˆ: å…¬é–‹/éå…¬é–‹ãƒˆã‚°ãƒ«ã®å‹•ä½œç¢ºèª

---

## Issue #3: ãƒ¡ãƒ‹ãƒ¥ãƒ¼å‰Šé™¤æ©Ÿèƒ½ã¨ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°

### ğŸ“‹ ã‚¿ã‚¤ãƒˆãƒ«
**ãƒ¡ãƒ‹ãƒ¥ãƒ¼å‰Šé™¤æ©Ÿèƒ½ã¨ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®å®Ÿè£…ï¼ˆè«–ç†å‰Šé™¤/ç‰©ç†å‰Šé™¤å¯¾å¿œï¼‰**

### ğŸ“ èª¬æ˜

#### ğŸ¯ ç›®çš„ï¼ˆå®Ÿè£…å†…å®¹ï¼‰
ãƒ¡ãƒ‹ãƒ¥ãƒ¼å‰Šé™¤æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã€èª¤å‰Šé™¤ã‚’é˜²ãç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’æä¾›ã—ã¾ã™ã€‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆå‰Šé™¤æ©Ÿèƒ½ï¼ˆæ—¢å­˜æ³¨æ–‡ãŒã‚ã‚‹å ´åˆã¯è«–ç†å‰Šé™¤ã€ãªã„å ´åˆã¯ç‰©ç†å‰Šé™¤ï¼‰ã‚’æ´»ç”¨ã—ã€ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã‚’ä¿ã¡ãªãŒã‚‰å®‰å…¨ãªå‰Šé™¤ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

**å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½**:
- âœ… å‰Šé™¤ãƒœã‚¿ãƒ³ã®å®Ÿè£…ï¼ˆå„ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡Œï¼‰
- âœ… å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- âœ… è«–ç†å‰Šé™¤ãƒ»ç‰©ç†å‰Šé™¤ã®çµæœè¡¨ç¤º
- âœ… å‰Šé™¤å¾Œã®ä¸€è¦§è‡ªå‹•æ›´æ–°
- âœ… å‰Šé™¤æ¨©é™ãƒã‚§ãƒƒã‚¯ï¼ˆowner ã®ã¿ï¼‰

#### ğŸ”§ ã‚¿ã‚¹ã‚¯ï¼ˆæŠ€è¡“ä»•æ§˜ï¼‰

**1. å‰Šé™¤ãƒœã‚¿ãƒ³è¿½åŠ **
```html
<!-- templates/store_menus.html ã®ãƒ†ãƒ¼ãƒ–ãƒ«æ“ä½œåˆ—ã«è¿½åŠ  -->
<td class="actions">
  <button class="btn-sm btn-primary" onclick="openEditModal(menu)">ç·¨é›†</button>
  <button class="btn-sm btn-danger" onclick="confirmDelete(menu.id, menu.name)">å‰Šé™¤</button>
</td>
```

**2. ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°HTML**
```html
<!-- templates/store_menus.html ã«è¿½åŠ  -->
<div id="deleteModal" class="modal">
  <div class="modal-content modal-small">
    <div class="modal-header">
      <span class="warning-icon">âš </span>
      <h3>ç¢ºèª</h3>
    </div>
    <div class="modal-body">
      <p id="deleteMessage"></p>
      <p id="deleteWarning" class="text-warning"></p>
    </div>
    <div class="modal-actions">
      <button class="btn-secondary" onclick="closeDeleteModal()">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
      <button class="btn-danger" id="confirmDeleteBtn">å‰Šé™¤ã™ã‚‹</button>
    </div>
  </div>
</div>
```

**3. JavaScriptå®Ÿè£…**
```javascript
// static/js/store_menus.js ã«è¿½åŠ 

// å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º
function confirmDelete(menuId, menuName) {
  const message = `ã€Œ${menuName}ã€ã‚’å‰Šé™¤ã—ã¾ã™ã‹?`;
  document.getElementById('deleteMessage').textContent = message;
  
  // ç¢ºèªãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ãƒãƒ³ãƒ‰ãƒ©è¨­å®š
  const confirmBtn = document.getElementById('confirmDeleteBtn');
  confirmBtn.onclick = () => deleteMenu(menuId, menuName);
  
  // ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
  document.getElementById('deleteModal').classList.add('active');
}

// ãƒ¡ãƒ‹ãƒ¥ãƒ¼å‰Šé™¤å®Ÿè¡Œ
async function deleteMenu(menuId, menuName) {
  try {
    showLoading();
    
    const response = await fetch(`/api/store/menus/${menuId}`, {
      method: 'DELETE',
      headers: {
        'Authorization': `Bearer ${getAuthToken()}`
      }
    });
    
    if (!response.ok) {
      throw new Error('å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ');
    }
    
    const result = await response.json();
    
    // çµæœã«å¿œã˜ãŸé€šçŸ¥
    if (result.message.includes("disabled")) {
      showToast(`æ—¢å­˜ã®æ³¨æ–‡ãŒã‚ã‚‹ãŸã‚ã€Œ${menuName}ã€ã‚’éå…¬é–‹ã«è¨­å®šã—ã¾ã—ãŸ`, 'warning');
    } else {
      showToast(`ã€Œ${menuName}ã€ã‚’å‰Šé™¤ã—ã¾ã—ãŸ`, 'success');
    }
    
    // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
    closeDeleteModal();
    
    // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ã‚’æ›´æ–°
    await fetchMenus();
    
  } catch (error) {
    showToast('å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + error.message, 'error');
  } finally {
    hideLoading();
  }
}

// ãƒ¢ãƒ¼ãƒ€ãƒ«é–‰ã˜ã‚‹
function closeDeleteModal() {
  document.getElementById('deleteModal').classList.remove('active');
}

// ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥è¡¨ç¤º
function showToast(message, type = 'info') {
  const toast = document.createElement('div');
  toast.className = `toast toast-${type}`;
  toast.textContent = message;
  document.body.appendChild(toast);
  
  setTimeout(() => {
    toast.classList.add('active');
  }, 10);
  
  setTimeout(() => {
    toast.classList.remove('active');
    setTimeout(() => toast.remove(), 300);
  }, 3000);
}
```

**4. CSSå®Ÿè£…**
```css
/* static/css/store_menus.css ã«è¿½åŠ  */
.btn-danger {
  background-color: #e74c3c;
  color: white;
}

.btn-danger:hover {
  background-color: #c0392b;
}

.modal-small {
  max-width: 400px;
}

.warning-icon {
  font-size: 48px;
  color: #f39c12;
}

.text-warning {
  color: #f39c12;
  font-size: 14px;
}

/* ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ */
.toast {
  position: fixed;
  bottom: 20px;
  right: 20px;
  padding: 15px 20px;
  border-radius: 4px;
  color: white;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.3s ease;
  z-index: 2000;
}

.toast.active {
  opacity: 1;
  transform: translateY(0);
}

.toast-success { background-color: #27ae60; }
.toast-warning { background-color: #f39c12; }
.toast-error { background-color: #e74c3c; }
```

**5. ä½¿ç”¨API**
```
å‰Šé™¤: DELETE /api/store/menus/{menu_id}

ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆè«–ç†å‰Šé™¤ï¼‰:
{
  "message": "Menu disabled due to existing orders"
}

ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆç‰©ç†å‰Šé™¤ï¼‰:
{
  "message": "Menu deleted successfully"
}
```

#### âœ… å—ã‘å…¥ã‚ŒåŸºæº–

**æ©Ÿèƒ½è¦ä»¶**:
- [ ] ã€Œå‰Šé™¤ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼åãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã€Œã‚­ãƒ£ãƒ³ã‚»ãƒ«ã€ã§å‰Šé™¤ãŒä¸­æ­¢ã•ã‚Œã‚‹
- [ ] ã€Œå‰Šé™¤ã™ã‚‹ã€ã§å‰Šé™¤ãŒå®Ÿè¡Œã•ã‚Œã‚‹
- [ ] è«–ç†å‰Šé™¤æ™‚ã«ã€Œéå…¬é–‹ã«è¨­å®šã—ã¾ã—ãŸã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ç‰©ç†å‰Šé™¤æ™‚ã«ã€Œå‰Šé™¤ã—ã¾ã—ãŸã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] å‰Šé™¤å¾Œã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ãŒè‡ªå‹•æ›´æ–°ã•ã‚Œã‚‹
- [ ] å‰Šé™¤å¾Œã«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè‡ªå‹•çš„ã«é–‰ã˜ã‚‹

**UI/UXè¦ä»¶**:
- [ ] ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ãŒ3ç§’é–“è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ãŒãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ãƒ»ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆã™ã‚‹
- [ ] å‰Šé™¤ä¸­ã«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºãŒã‚ã‚‹
- [ ] å‰Šé™¤ãƒœã‚¿ãƒ³ãŒ owner ã®ã¿ã«è¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆæ¨©é™ãƒã‚§ãƒƒã‚¯ï¼‰

**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**:
- [ ] API ã‚¨ãƒ©ãƒ¼æ™‚ã«é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼æ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] æ¨©é™ä¸è¶³æ™‚ï¼ˆ403ï¼‰ã«é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- [ ] E2Eãƒ†ã‚¹ãƒˆ: å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®è¡¨ç¤º
- [ ] E2Eãƒ†ã‚¹ãƒˆ: å‰Šé™¤ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«
- [ ] E2Eãƒ†ã‚¹ãƒˆ: è«–ç†å‰Šé™¤ã®å‹•ä½œç¢ºèª
- [ ] E2Eãƒ†ã‚¹ãƒˆ: ç‰©ç†å‰Šé™¤ã®å‹•ä½œç¢ºèª
- [ ] E2Eãƒ†ã‚¹ãƒˆ: æ¨©é™ãƒã‚§ãƒƒã‚¯ï¼ˆmanager, staff ã¯å‰Šé™¤ä¸å¯ï¼‰

---

## Issue #4: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½

### ğŸ“‹ ã‚¿ã‚¤ãƒˆãƒ«
**ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ãƒ»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œï¼‰**

### ğŸ“ èª¬æ˜

#### ğŸ¯ ç›®çš„ï¼ˆå®Ÿè£…å†…å®¹ï¼‰
ç¾åœ¨ã¯ç”»åƒURLã®æ‰‹å…¥åŠ›ã®ã¿å¯¾å¿œã—ã¦ã„ã¾ã™ãŒã€ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã€ã‚¹ã‚¿ãƒƒãƒ•ã®ä½œæ¥­åŠ¹ç‡ã‚’å¤§å¹…ã«å‘ä¸Šã•ã›ã¾ã™ã€‚åº—èˆ—ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰ã‚’å‚è€ƒã«ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒç”¨ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã€‚

**å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½**:
- âœ… ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- âœ… ã‚¯ãƒªãƒƒã‚¯ã§ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- âœ… ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‰ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º
- âœ… ç”»åƒã®å·®ã—æ›¿ãˆï¼ˆå¤ã„ç”»åƒã®è‡ªå‹•å‰Šé™¤ï¼‰
- âœ… ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ãƒ»ã‚µã‚¤ã‚ºã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- âœ… ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰é€²æ—è¡¨ç¤º

#### ğŸ”§ ã‚¿ã‚¹ã‚¯ï¼ˆæŠ€è¡“ä»•æ§˜ï¼‰

**1. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIå®Ÿè£…**
```python
# routers/store.py ã«è¿½åŠ 

@router.post("/menus/{menu_id}/image", response_model=MenuResponse, summary="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰")
async def upload_menu_image(
    menu_id: int,
    file: UploadFile = File(..., description="ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«"),
    db: Session = Depends(get_db),
    current_user: User = Depends(require_role(['owner', 'manager']))
):
    """
    ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
    
    **å¿…è¦ãªæ¨©é™:** owner, manager
    
    **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**
    - **file**: ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆJPEG, PNG, GIF, WebPå¯¾å¿œã€æœ€å¤§5MBï¼‰
    
    **æˆ»ã‚Šå€¤:**
    - æ›´æ–°å¾Œã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼æƒ…å ±ï¼ˆimage_urlãŒæ›´æ–°ã•ã‚Œã‚‹ï¼‰
    
    **ã‚¨ãƒ©ãƒ¼:**
    - 400: ä¸æ­£ãªãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã¾ãŸã¯ã‚µã‚¤ã‚ºè¶…é
    - 404: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã€ã¾ãŸã¯ä»–åº—èˆ—ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼
    """
    # ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼æ¤œè¨¼
    allowed_extensions = {'.jpg', '.jpeg', '.png', '.gif', '.webp'}
    file_ext = Path(file.filename).suffix.lower()
    if file_ext not in allowed_extensions:
        raise HTTPException(
            status_code=status.HTTP_400_BAD_REQUEST,
            detail=f"Invalid file type. Allowed: {', '.join(allowed_extensions)}"
        )
    
    # ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºæ¤œè¨¼ï¼ˆ5MBï¼‰
    file.file.seek(0, 2)  # ãƒ•ã‚¡ã‚¤ãƒ«æœ«å°¾ã«ç§»å‹•
    file_size = file.file.tell()
    file.file.seek(0)  # ãƒ•ã‚¡ã‚¤ãƒ«å…ˆé ­ã«æˆ»ã‚‹
    
    if file_size > 5 * 1024 * 1024:  # 5MB
        raise HTTPException(
            status_code=status.HTTP_400_BAD_REQUEST,
            detail="File size exceeds 5MB limit"
        )
    
    # ãƒ¡ãƒ‹ãƒ¥ãƒ¼å–å¾—ï¼ˆè‡ªåº—èˆ—ã®ã¿ï¼‰
    menu = db.query(Menu).filter(
        Menu.id == menu_id,
        Menu.store_id == current_user.store_id
    ).first()
    
    if not menu:
        raise HTTPException(
            status_code=status.HTTP_404_NOT_FOUND,
            detail="Menu not found"
        )
    
    # ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆ
    upload_dir = Path("static/uploads/menus")
    upload_dir.mkdir(parents=True, exist_ok=True)
    
    # ä¸€æ„ã®ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ç”Ÿæˆ
    unique_filename = f"{uuid.uuid4()}{file_ext}"
    file_path = upload_dir / unique_filename
    
    # å¤ã„ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ï¼ˆå­˜åœ¨ã™ã‚‹å ´åˆï¼‰
    if menu.image_url and menu.image_url.startswith("/static/uploads/"):
        old_file_path = Path(menu.image_url.lstrip('/'))
        if old_file_path.exists():
            old_file_path.unlink()
    
    # ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜
    try:
        content = await file.read()
        with open(file_path, "wb") as f:
            f.write(content)
    except Exception as e:
        raise HTTPException(
            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
            detail=f"Failed to save file: {str(e)}"
        )
    
    # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®image_urlã‚’æ›´æ–°
    menu.image_url = f"/static/uploads/menus/{unique_filename}"
    db.commit()
    db.refresh(menu)
    
    return menu


@router.delete("/menus/{menu_id}/image", response_model=MenuResponse, summary="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒå‰Šé™¤")
def delete_menu_image(
    menu_id: int,
    db: Session = Depends(get_db),
    current_user: User = Depends(require_role(['owner', 'manager']))
):
    """
    ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒã‚’å‰Šé™¤
    
    **å¿…è¦ãªæ¨©é™:** owner, manager
    """
    menu = db.query(Menu).filter(
        Menu.id == menu_id,
        Menu.store_id == current_user.store_id
    ).first()
    
    if not menu:
        raise HTTPException(
            status_code=status.HTTP_404_NOT_FOUND,
            detail="Menu not found"
        )
    
    # ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
    if menu.image_url and menu.image_url.startswith("/static/uploads/"):
        file_path = Path(menu.image_url.lstrip('/'))
        if file_path.exists():
            try:
                file_path.unlink()
            except Exception:
                pass
    
    # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®image_urlã‚’ã‚¯ãƒªã‚¢
    menu.image_url = None
    db.commit()
    db.refresh(menu)
    
    return menu
```

**2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰HTML**
```html
<!-- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆãƒ»ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«ã«è¿½åŠ  -->
<div class="form-group">
  <label>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒ</label>
  
  <div id="imageUploadArea" class="image-upload-area">
    <div id="imagePreview" class="image-preview">
      <img id="previewImage" src="" alt="ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼" style="display:none;">
      <div id="uploadPlaceholder" class="upload-placeholder">
        <span class="upload-icon">ğŸ“·</span>
        <p>ã‚¯ãƒªãƒƒã‚¯ã¾ãŸã¯ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</p>
        <p class="upload-hint">JPEG, PNG, GIF, WebP (æœ€å¤§5MB)</p>
      </div>
    </div>
    <input type="file" id="imageFileInput" accept="image/jpeg,image/png,image/gif,image/webp" style="display:none;">
    <button type="button" class="btn-secondary btn-sm" id="removeImageBtn" style="display:none;">ç”»åƒã‚’å‰Šé™¤</button>
  </div>
</div>
```

**3. JavaScriptå®Ÿè£…**
```javascript
// static/js/store_menus.js ã«è¿½åŠ 

// ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—è¨­å®š
function setupImageUpload() {
  const uploadArea = document.getElementById('imageUploadArea');
  const fileInput = document.getElementById('imageFileInput');
  const previewImage = document.getElementById('previewImage');
  const uploadPlaceholder = document.getElementById('uploadPlaceholder');
  const removeBtn = document.getElementById('removeImageBtn');
  
  // ã‚¯ãƒªãƒƒã‚¯ã§ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ
  uploadArea.addEventListener('click', (e) => {
    if (e.target !== removeBtn) {
      fileInput.click();
    }
  });
  
  // ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠæ™‚
  fileInput.addEventListener('change', (e) => {
    const file = e.target.files[0];
    if (file) {
      handleImageFile(file);
    }
  });
  
  // ãƒ‰ãƒ©ãƒƒã‚°ã‚ªãƒ¼ãƒãƒ¼
  uploadArea.addEventListener('dragover', (e) => {
    e.preventDefault();
    uploadArea.classList.add('drag-over');
  });
  
  // ãƒ‰ãƒ©ãƒƒã‚°é›¢è„±
  uploadArea.addEventListener('dragleave', () => {
    uploadArea.classList.remove('drag-over');
  });
  
  // ãƒ‰ãƒ­ãƒƒãƒ—
  uploadArea.addEventListener('drop', (e) => {
    e.preventDefault();
    uploadArea.classList.remove('drag-over');
    
    const file = e.dataTransfer.files[0];
    if (file && file.type.startsWith('image/')) {
      handleImageFile(file);
    }
  });
  
  // ç”»åƒå‰Šé™¤
  removeBtn.addEventListener('click', () => {
    removeImage();
  });
}

// ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†
function handleImageFile(file) {
  // ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯
  if (file.size > 5 * 1024 * 1024) {
    showToast('ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã¯5MBä»¥ä¸‹ã«ã—ã¦ãã ã•ã„', 'error');
    return;
  }
  
  // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º
  const reader = new FileReader();
  reader.onload = (e) => {
    document.getElementById('previewImage').src = e.target.result;
    document.getElementById('previewImage').style.display = 'block';
    document.getElementById('uploadPlaceholder').style.display = 'none';
    document.getElementById('removeImageBtn').style.display = 'block';
  };
  reader.readAsDataURL(file);
  
  // ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ï¼ˆå¾Œã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼‰
  window.currentImageFile = file;
}

// ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Ÿè¡Œ
async function uploadImage(menuId) {
  if (!window.currentImageFile) return null;
  
  const formData = new FormData();
  formData.append('file', window.currentImageFile);
  
  const response = await fetch(`/api/store/menus/${menuId}/image`, {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${getAuthToken()}`
    },
    body: formData
  });
  
  if (!response.ok) {
    throw new Error('ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ');
  }
  
  return await response.json();
}

// ç”»åƒå‰Šé™¤
function removeImage() {
  document.getElementById('previewImage').style.display = 'none';
  document.getElementById('previewImage').src = '';
  document.getElementById('uploadPlaceholder').style.display = 'flex';
  document.getElementById('removeImageBtn').style.display = 'none';
  document.getElementById('imageFileInput').value = '';
  window.currentImageFile = null;
}
```

**4. CSSå®Ÿè£…**
```css
/* static/css/store_menus.css ã«è¿½åŠ  */
.image-upload-area {
  border: 2px dashed #ddd;
  border-radius: 4px;
  padding: 20px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s;
}

.image-upload-area:hover {
  border-color: #3498db;
  background-color: #f8f9fa;
}

.image-upload-area.drag-over {
  border-color: #27ae60;
  background-color: #e8f5e9;
}

.image-preview {
  min-height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.image-preview img {
  max-width: 100%;
  max-height: 300px;
  border-radius: 4px;
}

.upload-placeholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}

.upload-icon {
  font-size: 48px;
}

.upload-hint {
  font-size: 12px;
  color: #7f8c8d;
}
```

**5. ãƒ†ã‚¹ãƒˆå®Ÿè£…**
```python
# tests/test_store_menus.py ã«è¿½åŠ 

def test_upload_menu_image(client, auth_headers_store, menu_store_a, db_session):
    """ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹"""
    from io import BytesIO
    
    # ãƒ†ã‚¹ãƒˆç”¨ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«
    image_data = BytesIO(b"fake image data")
    image_data.name = "test.jpg"
    
    response = client.post(
        f"/api/store/menus/{menu_store_a.id}/image",
        headers=auth_headers_store,
        files={"file": ("test.jpg", image_data, "image/jpeg")}
    )
    
    assert response.status_code == 200
    data = response.json()
    assert data["image_url"].startswith("/static/uploads/menus/")

def test_upload_invalid_file_type(client, auth_headers_store, menu_store_a):
    """ä¸æ­£ãªãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹"""
    from io import BytesIO
    
    file_data = BytesIO(b"fake pdf data")
    file_data.name = "test.pdf"
    
    response = client.post(
        f"/api/store/menus/{menu_store_a.id}/image",
        headers=auth_headers_store,
        files={"file": ("test.pdf", file_data, "application/pdf")}
    )
    
    assert response.status_code == 400
```

#### âœ… å—ã‘å…¥ã‚ŒåŸºæº–

**æ©Ÿèƒ½è¦ä»¶**:
- [ ] ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹
- [ ] ã‚¯ãƒªãƒƒã‚¯ã§ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒé–‹ã
- [ ] é¸æŠã—ãŸç”»åƒãŒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‰ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ç¢ºèªã§ãã‚‹
- [ ] ç”»åƒã‚’å‰Šé™¤ã§ãã‚‹ï¼ˆã€Œç”»åƒã‚’å‰Šé™¤ã€ãƒœã‚¿ãƒ³ï¼‰
- [ ] æ—¢å­˜ç”»åƒã‚’æ–°ã—ã„ç”»åƒã§ç½®ãæ›ãˆã‚‰ã‚Œã‚‹
- [ ] å¤ã„ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒè‡ªå‹•å‰Šé™¤ã•ã‚Œã‚‹

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**:
- [ ] JPEG, PNG, GIF, WebP ä»¥å¤–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹
- [ ] 5MB ã‚’è¶…ãˆã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹
- [ ] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼æ™‚ã«é©åˆ‡ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹

**UI/UXè¦ä»¶**:
- [ ] ãƒ‰ãƒ©ãƒƒã‚°ã‚ªãƒ¼ãƒãƒ¼æ™‚ã«è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒã‚ã‚‹
- [ ] ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­ã«ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºãŒã‚ã‚‹
- [ ] ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº†æ™‚ã«ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ãŒè¡¨ç¤ºã•ã‚Œã‚‹

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶**:
- [ ] owner, manager ã®ã¿ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹
- [ ] ä»–åº—èˆ—ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒã¯ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ããªã„
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«æ”»æ’ƒã‚’é˜²æ­¢

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰API
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: ä¸æ­£ãªãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã®ã‚¨ãƒ©ãƒ¼
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºè¶…éã®ã‚¨ãƒ©ãƒ¼
- [ ] E2Eãƒ†ã‚¹ãƒˆ: ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã®å‹•ä½œç¢ºèª

---

## Issue #5: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ä¸¦ã³æ›¿ãˆãƒ»ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½

### ğŸ“‹ ã‚¿ã‚¤ãƒˆãƒ«
**ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ã®ä¸¦ã³æ›¿ãˆãƒ»ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆã‚«ãƒ©ãƒ ãƒ˜ãƒƒãƒ€ãƒ¼ã‚¯ãƒªãƒƒã‚¯ï¼‰**

### ğŸ“ èª¬æ˜

#### ğŸ¯ ç›®çš„ï¼ˆå®Ÿè£…å†…å®¹ï¼‰
ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ã®ä¸¦ã³æ›¿ãˆã‚’å¯èƒ½ã«ã—ã€ã‚¹ã‚¿ãƒƒãƒ•ãŒç›®çš„ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ç´ æ—©ãè¦‹ã¤ã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ã‚«ãƒ©ãƒ ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã ã‘ã§æ˜‡é †ãƒ»é™é †ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹ç›´æ„Ÿçš„ãªUIã‚’æä¾›ã—ã¾ã™ã€‚

**å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½**:
- âœ… ã‚«ãƒ©ãƒ ãƒ˜ãƒƒãƒ€ãƒ¼ã§ã‚½ãƒ¼ãƒˆï¼ˆã‚¯ãƒªãƒƒã‚¯ã§åˆ‡æ›¿ï¼‰
- âœ… æ˜‡é †ãƒ»é™é †ã®è¡¨ç¤ºï¼ˆçŸ¢å°ã‚¢ã‚¤ã‚³ãƒ³ï¼‰
- âœ… ã‚½ãƒ¼ãƒˆçŠ¶æ…‹ã®æ°¸ç¶šåŒ–ï¼ˆURLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰
- âœ… è¤‡æ•°ã‚«ãƒ©ãƒ ã®ã‚½ãƒ¼ãƒˆå¯¾å¿œ

**ã‚½ãƒ¼ãƒˆå¯¾å¿œã‚«ãƒ©ãƒ **:
- åå‰ï¼ˆã‚ã„ã†ãˆãŠé †/é€†é †ï¼‰
- ä¾¡æ ¼ï¼ˆå®‰ã„é †/é«˜ã„é †ï¼‰
- ä½œæˆæ—¥æ™‚ï¼ˆæ–°ã—ã„é †/å¤ã„é †ï¼‰
- æ›´æ–°æ—¥æ™‚ï¼ˆæœ€è¿‘æ›´æ–°é †ï¼‰

#### ğŸ”§ ã‚¿ã‚¹ã‚¯ï¼ˆæŠ€è¡“ä»•æ§˜ï¼‰

**1. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIæ‹¡å¼µ**
```python
# routers/store.py ã® get_all_menus ã‚’æ‹¡å¼µ

@router.get("/menus", response_model=MenuListResponse, summary="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç®¡ç†ä¸€è¦§")
def get_all_menus(
    is_available: Optional[bool] = Query(None, description="åˆ©ç”¨å¯èƒ½ãƒ•ãƒ©ã‚°ã§ãƒ•ã‚£ãƒ«ã‚¿"),
    page: int = Query(1, ge=1, description="ãƒšãƒ¼ã‚¸ç•ªå·"),
    per_page: int = Query(20, ge=1, le=100, description="1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°"),
    sort_by: str = Query("created_at", regex="^(name|price|created_at|updated_at)$", description="ã‚½ãƒ¼ãƒˆã‚«ãƒ©ãƒ "),
    sort_order: str = Query("desc", regex="^(asc|desc)$", description="ã‚½ãƒ¼ãƒˆé †åº"),
    db: Session = Depends(get_db),
    current_user: User = Depends(require_role(['owner', 'manager', 'staff']))
):
    """
    ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§å–å¾—ï¼ˆã‚½ãƒ¼ãƒˆå¯¾å¿œï¼‰
    
    **ã‚½ãƒ¼ãƒˆå¯èƒ½ãªã‚«ãƒ©ãƒ :**
    - name: åå‰
    - price: ä¾¡æ ¼
    - created_at: ä½œæˆæ—¥æ™‚
    - updated_at: æ›´æ–°æ—¥æ™‚
    
    **ã‚½ãƒ¼ãƒˆé †åº:**
    - asc: æ˜‡é †
    - desc: é™é †
    """
    # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåº—èˆ—ã«æ‰€å±ã—ã¦ã„ã‚‹ã‹ç¢ºèª
    if not current_user.store_id:
        raise HTTPException(
            status_code=status.HTTP_400_BAD_REQUEST,
            detail="User is not associated with any store"
        )
    
    # è‡ªåº—èˆ—ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã¿ã‚’å–å¾—
    query = db.query(Menu).filter(Menu.store_id == current_user.store_id)
    
    # åˆ©ç”¨å¯èƒ½ãƒ•ãƒ©ã‚°ã§ãƒ•ã‚£ãƒ«ã‚¿
    if is_available is not None:
        query = query.filter(Menu.is_available == is_available)
    
    # ã‚½ãƒ¼ãƒˆé©ç”¨
    order_column = getattr(Menu, sort_by)
    if sort_order == "asc":
        query = query.order_by(order_column.asc())
    else:
        query = query.order_by(order_column.desc())
    
    # ç·ä»¶æ•°ã‚’å–å¾—
    total = query.count()
    
    # ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
    offset = (page - 1) * per_page
    menus = query.offset(offset).limit(per_page).all()
    
    return {"menus": menus, "total": total}
```

**2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰HTML**
```html
<!-- templates/store_menus.html ã®ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ˜ãƒƒãƒ€ãƒ¼ -->
<thead>
  <tr>
    <th>
      <button class="sort-header" data-column="name">
        åå‰ <span class="sort-icon" id="sort-icon-name"></span>
      </button>
    </th>
    <th>
      <button class="sort-header" data-column="price">
        ä¾¡æ ¼ <span class="sort-icon" id="sort-icon-price"></span>
      </button>
    </th>
    <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
    <th>
      <button class="sort-header" data-column="created_at">
        ä½œæˆæ—¥ <span class="sort-icon" id="sort-icon-created_at"></span>
      </button>
    </th>
    <th>
      <button class="sort-header" data-column="updated_at">
        æ›´æ–°æ—¥ <span class="sort-icon" id="sort-icon-updated_at"></span>
      </button>
    </th>
    <th>æ“ä½œ</th>
  </tr>
</thead>
```

**3. JavaScriptå®Ÿè£…**
```javascript
// static/js/store_menus.js ã«è¿½åŠ 

let currentSort = {
  column: 'created_at',
  order: 'desc'
};

// ã‚½ãƒ¼ãƒˆçŠ¶æ…‹ã‚’ç®¡ç†
function setupSortHeaders() {
  const sortHeaders = document.querySelectorAll('.sort-header');
  
  sortHeaders.forEach(header => {
    header.addEventListener('click', () => {
      const column = header.dataset.column;
      
      // åŒã˜ã‚«ãƒ©ãƒ ãªã‚‰orderåˆ‡æ›¿ã€é•ã†ã‚«ãƒ©ãƒ ãªã‚‰desc
      if (currentSort.column === column) {
        currentSort.order = currentSort.order === 'asc' ? 'desc' : 'asc';
      } else {
        currentSort.column = column;
        currentSort.order = 'desc';
      }
      
      // ã‚½ãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³æ›´æ–°
      updateSortIcons();
      
      // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ã‚’å†å–å¾—
      fetchMenus();
    });
  });
  
  // åˆæœŸè¡¨ç¤ºã®ã‚¢ã‚¤ã‚³ãƒ³è¨­å®š
  updateSortIcons();
}

// ã‚½ãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³æ›´æ–°
function updateSortIcons() {
  // ã™ã¹ã¦ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªã‚¢
  document.querySelectorAll('.sort-icon').forEach(icon => {
    icon.textContent = 'â†•';
    icon.classList.remove('active');
  });
  
  // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚½ãƒ¼ãƒˆã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¨­å®š
  const activeIcon = document.getElementById(`sort-icon-${currentSort.column}`);
  if (activeIcon) {
    activeIcon.textContent = currentSort.order === 'asc' ? 'â†‘' : 'â†“';
    activeIcon.classList.add('active');
  }
}

// ãƒ¡ãƒ‹ãƒ¥ãƒ¼å–å¾—ï¼ˆã‚½ãƒ¼ãƒˆå¯¾å¿œï¼‰
async function fetchMenus() {
  try {
    showLoading();
    
    const params = new URLSearchParams({
      page: currentPage,
      per_page: perPage,
      sort_by: currentSort.column,
      sort_order: currentSort.order
    });
    
    if (currentFilter !== null) {
      params.append('is_available', currentFilter);
    }
    
    const response = await fetch(`/api/store/menus?${params}`, {
      headers: getAuthHeaders()
    });
    
    if (!response.ok) {
      throw new Error('Failed to fetch menus');
    }
    
    const data = await response.json();
    renderMenuTable(data.menus);
    renderPagination(data.total);
    
    // URLæ›´æ–°ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶å±¥æ­´ï¼‰
    updateURL();
    
  } catch (error) {
    showToast('ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ', 'error');
  } finally {
    hideLoading();
  }
}

// URLæ›´æ–°ï¼ˆå±¥æ­´ç®¡ç†ï¼‰
function updateURL() {
  const params = new URLSearchParams({
    page: currentPage,
    sort_by: currentSort.column,
    sort_order: currentSort.order
  });
  
  if (currentFilter !== null) {
    params.append('filter', currentFilter);
  }
  
  const newURL = `${window.location.pathname}?${params}`;
  window.history.replaceState({}, '', newURL);
}

// åˆæœŸåŒ–æ™‚ã«URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰å¾©å…ƒ
function restoreStateFromURL() {
  const params = new URLSearchParams(window.location.search);
  
  if (params.has('sort_by')) {
    currentSort.column = params.get('sort_by');
  }
  if (params.has('sort_order')) {
    currentSort.order = params.get('sort_order');
  }
  if (params.has('page')) {
    currentPage = parseInt(params.get('page'));
  }
  if (params.has('filter')) {
    currentFilter = params.get('filter') === 'true';
  }
}
```

**4. CSSå®Ÿè£…**
```css
/* static/css/store_menus.css ã«è¿½åŠ  */
.sort-header {
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px;
  font-weight: bold;
  display: flex;
  align-items: center;
  gap: 5px;
  width: 100%;
  text-align: left;
}

.sort-header:hover {
  background-color: #f8f9fa;
}

.sort-icon {
  color: #bdc3c7;
  font-size: 12px;
  transition: color 0.3s;
}

.sort-icon.active {
  color: #3498db;
  font-weight: bold;
}
```

**5. ãƒ†ã‚¹ãƒˆå®Ÿè£…**
```python
# tests/test_store_menus.py ã«è¿½åŠ 

def test_sort_by_name_asc(client, auth_headers_store):
    """åå‰ã®æ˜‡é †ã§ã‚½ãƒ¼ãƒˆã§ãã‚‹"""
    response = client.get(
        "/api/store/menus?sort_by=name&sort_order=asc",
        headers=auth_headers_store
    )
    
    assert response.status_code == 200
    data = response.json()
    menus = data["menus"]
    
    # åå‰ãŒæ˜‡é †ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª
    names = [menu["name"] for menu in menus]
    assert names == sorted(names)

def test_sort_by_price_desc(client, auth_headers_store):
    """ä¾¡æ ¼ã®é™é †ã§ã‚½ãƒ¼ãƒˆã§ãã‚‹"""
    response = client.get(
        "/api/store/menus?sort_by=price&sort_order=desc",
        headers=auth_headers_store
    )
    
    assert response.status_code == 200
    data = response.json()
    menus = data["menus"]
    
    # ä¾¡æ ¼ãŒé™é †ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª
    prices = [menu["price"] for menu in menus]
    assert prices == sorted(prices, reverse=True)
```

#### âœ… å—ã‘å…¥ã‚ŒåŸºæº–

**æ©Ÿèƒ½è¦ä»¶**:
- [ ] ã‚«ãƒ©ãƒ ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã‚½ãƒ¼ãƒˆã•ã‚Œã‚‹
- [ ] åŒã˜ã‚«ãƒ©ãƒ ã‚’å†åº¦ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨æ˜‡é †ãƒ»é™é †ãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹
- [ ] ã‚½ãƒ¼ãƒˆçŠ¶æ…‹ãŒã‚¢ã‚¤ã‚³ãƒ³ã§è¦–è¦šçš„ã«è¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆâ†‘ â†“ï¼‰
- [ ] åå‰ã€ä¾¡æ ¼ã€ä½œæˆæ—¥æ™‚ã€æ›´æ–°æ—¥æ™‚ã§ã‚½ãƒ¼ãƒˆã§ãã‚‹
- [ ] ã‚½ãƒ¼ãƒˆçŠ¶æ…‹ãŒURLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ä¿å­˜ã•ã‚Œã‚‹
- [ ] ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰å¾Œã‚‚ã‚½ãƒ¼ãƒˆçŠ¶æ…‹ãŒç¶­æŒã•ã‚Œã‚‹

**UI/UXè¦ä»¶**:
- [ ] ã‚½ãƒ¼ãƒˆä¸­ã®ã‚«ãƒ©ãƒ ãƒ˜ãƒƒãƒ€ãƒ¼ãŒå¼·èª¿è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã‚½ãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³ãŒæ˜ç¢ºã«è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã‚½ãƒ¼ãƒˆåˆ‡æ›¿ãŒã‚¹ãƒ ãƒ¼ã‚ºï¼ˆ300msä»¥å†…ï¼‰

**çµ±åˆè¦ä»¶**:
- [ ] ãƒ•ã‚£ãƒ«ã‚¿ã¨ã‚½ãƒ¼ãƒˆãŒåŒæ™‚ã«æ©Ÿèƒ½ã™ã‚‹
- [ ] ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã¨ã‚½ãƒ¼ãƒˆãŒåŒæ™‚ã«æ©Ÿèƒ½ã™ã‚‹
- [ ] ã‚½ãƒ¼ãƒˆçŠ¶æ…‹ãŒãƒšãƒ¼ã‚¸é·ç§»å¾Œã‚‚ç¶­æŒã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: å„ã‚«ãƒ©ãƒ ã®æ˜‡é †ã‚½ãƒ¼ãƒˆ
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: å„ã‚«ãƒ©ãƒ ã®é™é †ã‚½ãƒ¼ãƒˆ
- [ ] E2Eãƒ†ã‚¹ãƒˆ: ã‚«ãƒ©ãƒ ãƒ˜ãƒƒãƒ€ãƒ¼ã‚¯ãƒªãƒƒã‚¯ã®å‹•ä½œç¢ºèª
- [ ] E2Eãƒ†ã‚¹ãƒˆ: ã‚½ãƒ¼ãƒˆçŠ¶æ…‹ã®æ°¸ç¶šåŒ–ç¢ºèª

---

## Issue #6: ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ¤œç´¢æ©Ÿèƒ½

### ğŸ“‹ ã‚¿ã‚¤ãƒˆãƒ«
**ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ¤œç´¢æ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œç´¢ï¼‰**

### ğŸ“ èª¬æ˜

#### ğŸ¯ ç›®çš„ï¼ˆå®Ÿè£…å†…å®¹ï¼‰
ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ•°ãŒå¢—åŠ ã—ãŸéš›ã«ã€ç‰¹å®šã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ç´ æ—©ãè¦‹ã¤ã‘ã‚‰ã‚Œã‚‹æ¤œç´¢æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã€‚ãƒ¡ãƒ‹ãƒ¥ãƒ¼åã‚„èª¬æ˜æ–‡ã§ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢ã«ã‚ˆã‚Šã€ã‚¹ã‚¿ãƒƒãƒ•ã®ä½œæ¥­åŠ¹ç‡ã‚’å‘ä¸Šã•ã›ã¾ã™ã€‚

**å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½**:
- âœ… ãƒ¡ãƒ‹ãƒ¥ãƒ¼åãƒ»èª¬æ˜æ–‡ã§ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢
- âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œç´¢ï¼ˆå…¥åŠ›ä¸­ã«è‡ªå‹•æ›´æ–°ï¼‰
- âœ… æ¤œç´¢çµæœã®ä»¶æ•°è¡¨ç¤º
- âœ… æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º
- âœ… æ¤œç´¢ã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³

#### ğŸ”§ ã‚¿ã‚¹ã‚¯ï¼ˆæŠ€è¡“ä»•æ§˜ï¼‰

**1. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIæ‹¡å¼µ**
```python
# routers/store.py ã® get_all_menus ã«è¿½åŠ 

@router.get("/menus", response_model=MenuListResponse)
def get_all_menus(
    is_available: Optional[bool] = Query(None),
    keyword: Optional[str] = Query(None, max_length=255, description="æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰"),
    page: int = Query(1, ge=1),
    per_page: int = Query(20, ge=1, le=100),
    sort_by: str = Query("created_at"),
    sort_order: str = Query("desc"),
    db: Session = Depends(get_db),
    current_user: User = Depends(require_role(['owner', 'manager', 'staff']))
):
    """
    ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§å–å¾—ï¼ˆæ¤œç´¢å¯¾å¿œï¼‰
    
    **æ¤œç´¢å¯¾è±¡**:
    - ãƒ¡ãƒ‹ãƒ¥ãƒ¼åï¼ˆnameï¼‰
    - èª¬æ˜æ–‡ï¼ˆdescriptionï¼‰
    """
    query = db.query(Menu).filter(Menu.store_id == current_user.store_id)
    
    # ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢
    if keyword:
        search_pattern = f"%{keyword}%"
        query = query.filter(
            or_(
                Menu.name.ilike(search_pattern),
                Menu.description.ilike(search_pattern)
            )
        )
    
    # ãƒ•ã‚£ãƒ«ã‚¿ãƒ»ã‚½ãƒ¼ãƒˆãƒ»ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
    # ... (æ—¢å­˜ã®å®Ÿè£…)
    
    total = query.count()
    menus = query.offset(offset).limit(per_page).all()
    
    return {"menus": menus, "total": total}
```

**2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰HTML**
```html
<!-- templates/store_menus.html ã«è¿½åŠ  -->
<div class="search-container">
  <div class="search-box">
    <span class="search-icon">ğŸ”</span>
    <input 
      type="text" 
      id="searchInput" 
      placeholder="ãƒ¡ãƒ‹ãƒ¥ãƒ¼åã§æ¤œç´¢..." 
      autocomplete="off"
    >
    <button id="clearSearchBtn" class="clear-btn" style="display:none;">âœ•</button>
  </div>
  <div id="searchResults" class="search-results">
    <span id="resultCount"></span>
  </div>
</div>
```

**3. JavaScriptå®Ÿè£…**
```javascript
// static/js/store_menus.js ã«è¿½åŠ 

let searchKeyword = '';
let searchDebounceTimer = null;

// æ¤œç´¢è¨­å®š
function setupSearch() {
  const searchInput = document.getElementById('searchInput');
  const clearBtn = document.getElementById('clearSearchBtn');
  
  // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œç´¢ï¼ˆãƒ‡ãƒã‚¦ãƒ³ã‚¹ 500msï¼‰
  searchInput.addEventListener('input', (e) => {
    clearTimeout(searchDebounceTimer);
    
    searchKeyword = e.target.value.trim();
    
    // ã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³è¡¨ç¤ºåˆ‡æ›¿
    if (searchKeyword) {
      clearBtn.style.display = 'block';
    } else {
      clearBtn.style.display = 'none';
    }
    
    // ãƒ‡ãƒã‚¦ãƒ³ã‚¹
    searchDebounceTimer = setTimeout(() => {
      currentPage = 1; // æ¤œç´¢æ™‚ã¯1ãƒšãƒ¼ã‚¸ç›®ã«æˆ»ã‚‹
      fetchMenus();
    }, 500);
  });
  
  // ã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³
  clearBtn.addEventListener('click', () => {
    searchInput.value = '';
    searchKeyword = '';
    clearBtn.style.display = 'none';
    currentPage = 1;
    fetchMenus();
  });
  
  // Enterã‚­ãƒ¼ã§æ¤œç´¢å®Ÿè¡Œ
  searchInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
      clearTimeout(searchDebounceTimer);
      currentPage = 1;
      fetchMenus();
    }
  });
}

// ãƒ¡ãƒ‹ãƒ¥ãƒ¼å–å¾—ï¼ˆæ¤œç´¢å¯¾å¿œï¼‰
async function fetchMenus() {
  const params = new URLSearchParams({
    page: currentPage,
    per_page: perPage,
    sort_by: currentSort.column,
    sort_order: currentSort.order
  });
  
  if (currentFilter !== null) {
    params.append('is_available', currentFilter);
  }
  
  if (searchKeyword) {
    params.append('keyword', searchKeyword);
  }
  
  // APIå‘¼ã³å‡ºã—
  const response = await fetch(`/api/store/menus?${params}`, {
    headers: getAuthHeaders()
  });
  
  const data = await response.json();
  renderMenuTable(data.menus);
  renderPagination(data.total);
  
  // æ¤œç´¢çµæœä»¶æ•°è¡¨ç¤º
  if (searchKeyword) {
    document.getElementById('resultCount').textContent = 
      `ã€Œ${searchKeyword}ã€ã®æ¤œç´¢çµæœ: ${data.total}ä»¶`;
  } else {
    document.getElementById('resultCount').textContent = '';
  }
}

// æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ
function highlightKeyword(text, keyword) {
  if (!keyword) return text;
  
  const regex = new RegExp(`(${keyword})`, 'gi');
  return text.replace(regex, '<mark>$1</mark>');
}
```

**4. CSSå®Ÿè£…**
```css
/* static/css/store_menus.css ã«è¿½åŠ  */
.search-container {
  margin-bottom: 20px;
}

.search-box {
  position: relative;
  display: flex;
  align-items: center;
  max-width: 500px;
}

.search-icon {
  position: absolute;
  left: 12px;
  color: #7f8c8d;
  pointer-events: none;
}

#searchInput {
  width: 100%;
  padding: 10px 40px 10px 40px;
  border: 2px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  transition: border-color 0.3s;
}

#searchInput:focus {
  outline: none;
  border-color: #3498db;
}

.clear-btn {
  position: absolute;
  right: 10px;
  background: none;
  border: none;
  color: #7f8c8d;
  font-size: 20px;
  cursor: pointer;
  padding: 5px;
}

.clear-btn:hover {
  color: #e74c3c;
}

.search-results {
  margin-top: 10px;
  color: #7f8c8d;
  font-size: 14px;
}

mark {
  background-color: #fff59d;
  padding: 2px 4px;
  border-radius: 2px;
}
```

**5. ãƒ†ã‚¹ãƒˆå®Ÿè£…**
```python
# tests/test_store_menus.py ã«è¿½åŠ 

def test_search_menus_by_name(client, auth_headers_store, db_session, store_a):
    """ãƒ¡ãƒ‹ãƒ¥ãƒ¼åã§æ¤œç´¢ã§ãã‚‹"""
    # ãƒ†ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆ
    from models import Menu
    menu1 = Menu(name="æ˜¥ã®å¼å½“", price=1200, store_id=store_a.id)
    menu2 = Menu(name="å¤ã®å¼å½“", price=1300, store_id=store_a.id)
    menu3 = Menu(name="ç‰¹è£½å¼å½“", price=1500, store_id=store_a.id)
    db_session.add_all([menu1, menu2, menu3])
    db_session.commit()
    
    response = client.get(
        "/api/store/menus?keyword=æ˜¥",
        headers=auth_headers_store
    )
    
    assert response.status_code == 200
    data = response.json()
    assert data["total"] == 1
    assert "æ˜¥" in data["menus"][0]["name"]

def test_search_menus_by_description(client, auth_headers_store):
    """èª¬æ˜æ–‡ã§æ¤œç´¢ã§ãã‚‹"""
    response = client.get(
        "/api/store/menus?keyword=é™å®š",
        headers=auth_headers_store
    )
    
    assert response.status_code == 200

def test_search_no_results(client, auth_headers_store):
    """æ¤œç´¢çµæœ0ä»¶ã®å ´åˆ"""
    response = client.get(
        "/api/store/menus?keyword=å­˜åœ¨ã—ãªã„ãƒ¡ãƒ‹ãƒ¥ãƒ¼",
        headers=auth_headers_store
    )
    
    assert response.status_code == 200
    data = response.json()
    assert data["total"] == 0
    assert len(data["menus"]) == 0
```

#### âœ… å—ã‘å…¥ã‚ŒåŸºæº–

**æ©Ÿèƒ½è¦ä»¶**:
- [ ] æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ã«ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã¨æ¤œç´¢ã•ã‚Œã‚‹
- [ ] ãƒ¡ãƒ‹ãƒ¥ãƒ¼åã§ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢ãŒæ©Ÿèƒ½ã™ã‚‹
- [ ] èª¬æ˜æ–‡ã§ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢ãŒæ©Ÿèƒ½ã™ã‚‹
- [ ] å¤§æ–‡å­—ãƒ»å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„æ¤œç´¢ãŒã§ãã‚‹
- [ ] æ¤œç´¢çµæœä»¶æ•°ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³ã§æ¤œç´¢ã‚’ãƒªã‚»ãƒƒãƒˆã§ãã‚‹

**UI/UXè¦ä»¶**:
- [ ] å…¥åŠ›ä¸­ã«ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œç´¢ã•ã‚Œã‚‹ï¼ˆãƒ‡ãƒã‚¦ãƒ³ã‚¹ 500msï¼‰
- [ ] æ¤œç´¢ä¸­ã®ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºãŒã‚ã‚‹
- [ ] Enterã‚­ãƒ¼ã§å³åº§ã«æ¤œç´¢å®Ÿè¡Œã§ãã‚‹
- [ ] æ¤œç´¢çµæœ0ä»¶æ™‚ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹

**çµ±åˆè¦ä»¶**:
- [ ] ãƒ•ã‚£ãƒ«ã‚¿ã¨æ¤œç´¢ãŒåŒæ™‚ã«æ©Ÿèƒ½ã™ã‚‹
- [ ] ã‚½ãƒ¼ãƒˆã¨æ¤œç´¢ãŒåŒæ™‚ã«æ©Ÿèƒ½ã™ã‚‹
- [ ] ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã¨æ¤œç´¢ãŒåŒæ™‚ã«æ©Ÿèƒ½ã™ã‚‹
- [ ] æ¤œç´¢çŠ¶æ…‹ãŒURLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ä¿å­˜ã•ã‚Œã‚‹

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶**:
- [ ] æ¤œç´¢ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒ500msä»¥å†…
- [ ] ãƒ‡ãƒã‚¦ãƒ³ã‚¹ã§APIãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã‚’æœ€é©åŒ–

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: ãƒ¡ãƒ‹ãƒ¥ãƒ¼åæ¤œç´¢
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: èª¬æ˜æ–‡æ¤œç´¢
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: æ¤œç´¢çµæœ0ä»¶
- [ ] E2Eãƒ†ã‚¹ãƒˆ: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œç´¢ã®å‹•ä½œç¢ºèª

---

## Issue #7: ä¸€æ‹¬æ“ä½œæ©Ÿèƒ½ï¼ˆè¤‡æ•°ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ä¸€æ‹¬å…¬é–‹/éå…¬é–‹ï¼‰

### ğŸ“‹ ã‚¿ã‚¤ãƒˆãƒ«
**ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€æ‹¬æ“ä½œæ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆè¤‡æ•°é¸æŠãƒ»ä¸€æ‹¬å…¬é–‹/éå…¬é–‹ï¼‰**

### ğŸ“ èª¬æ˜

#### ğŸ¯ ç›®çš„ï¼ˆå®Ÿè£…å†…å®¹ï¼‰
è¤‡æ•°ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’åŒæ™‚ã«å…¬é–‹/éå…¬é–‹ã«ã§ãã‚‹ä¸€æ‹¬æ“ä½œæ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã€å­£ç¯€ã®å¤‰ã‚ã‚Šç›®ãªã©ã§ã®å¤§é‡ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ›´æ–°ã‚’åŠ¹ç‡åŒ–ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€å¤ãƒ¡ãƒ‹ãƒ¥ãƒ¼10ä»¶ã‚’ä¸€æ‹¬ã§éå…¬é–‹ã«ã—ã€ç§‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼10ä»¶ã‚’ä¸€æ‹¬ã§å…¬é–‹ã™ã‚‹ã‚ˆã†ãªæ“ä½œãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

**å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½**:
- âœ… ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§è¤‡æ•°ãƒ¡ãƒ‹ãƒ¥ãƒ¼é¸æŠ
- âœ… ä¸€æ‹¬å…¬é–‹ãƒœã‚¿ãƒ³
- âœ… ä¸€æ‹¬éå…¬é–‹ãƒœã‚¿ãƒ³
- âœ… å…¨é¸æŠ/å…¨è§£é™¤æ©Ÿèƒ½
- âœ… é¸æŠä»¶æ•°ã®è¡¨ç¤º
- âœ… ä¸€æ‹¬æ“ä½œã®ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°

#### ğŸ”§ ã‚¿ã‚¹ã‚¯ï¼ˆæŠ€è¡“ä»•æ§˜ï¼‰

**1. æ–°è¦APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…**
```python
# routers/store.py ã«è¿½åŠ 

from typing import List
from pydantic import BaseModel

class BulkAvailabilityUpdate(BaseModel):
    """ä¸€æ‹¬å…¬é–‹/éå…¬é–‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆ"""
    menu_ids: List[int] = Field(..., min_items=1, description="æ›´æ–°å¯¾è±¡ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼IDãƒªã‚¹ãƒˆ")
    is_available: bool = Field(..., description="è¨­å®šã™ã‚‹å…¬é–‹çŠ¶æ…‹")

@router.put("/menus/bulk-availability", summary="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€æ‹¬å…¬é–‹/éå…¬é–‹")
def bulk_update_availability(
    update_data: BulkAvailabilityUpdate,
    db: Session = Depends(get_db),
    current_user: User = Depends(require_role(['owner', 'manager']))
):
    """
    è¤‡æ•°ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®å…¬é–‹/éå…¬é–‹ã‚’ä¸€æ‹¬æ›´æ–°
    
    **å¿…è¦ãªæ¨©é™:** owner, manager
    
    **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**
    - menu_ids: æ›´æ–°å¯¾è±¡ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼IDãƒªã‚¹ãƒˆï¼ˆ1ä»¶ä»¥ä¸Šå¿…é ˆï¼‰
    - is_available: è¨­å®šã™ã‚‹å…¬é–‹çŠ¶æ…‹ï¼ˆtrue=å…¬é–‹, false=éå…¬é–‹ï¼‰
    
    **æˆ»ã‚Šå€¤:**
    - updated_count: æ›´æ–°ã•ã‚ŒãŸãƒ¡ãƒ‹ãƒ¥ãƒ¼æ•°
    - message: çµæœãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    
    **ã‚¨ãƒ©ãƒ¼:**
    - 400: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåº—èˆ—ã«æ‰€å±ã—ã¦ã„ãªã„
    - 403: æ¨©é™ä¸è¶³ï¼ˆstaff ã¯å®Ÿè¡Œä¸å¯ï¼‰
    - 404: æŒ‡å®šã•ã‚ŒãŸãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã€ã¾ãŸã¯ä»–åº—èˆ—ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼
    """
    # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåº—èˆ—ã«æ‰€å±ã—ã¦ã„ã‚‹ã‹ç¢ºèª
    if not current_user.store_id:
        raise HTTPException(
            status_code=status.HTTP_400_BAD_REQUEST,
            detail="User is not associated with any store"
        )
    
    # è‡ªåº—èˆ—ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã¿å¯¾è±¡
    menus = db.query(Menu).filter(
        Menu.id.in_(update_data.menu_ids),
        Menu.store_id == current_user.store_id
    ).all()
    
    if not menus:
        raise HTTPException(
            status_code=status.HTTP_404_NOT_FOUND,
            detail="No menus found or access denied"
        )
    
    # ä¸€æ‹¬æ›´æ–°
    updated_count = 0
    for menu in menus:
        menu.is_available = update_data.is_available
        updated_count += 1
    
    db.commit()
    
    status_text = "å…¬é–‹" if update_data.is_available else "éå…¬é–‹"
    
    return {
        "message": f"{updated_count}ä»¶ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’{status_text}ã«è¨­å®šã—ã¾ã—ãŸ",
        "updated_count": updated_count
    }
```

**2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰HTML**
```html
<!-- templates/store_menus.html ã«è¿½åŠ  -->
<div class="bulk-actions" id="bulkActions" style="display:none;">
  <div class="bulk-info">
    <label class="checkbox-label">
      <input type="checkbox" id="selectAll">
      <span id="selectedCount">0ä»¶é¸æŠä¸­</span>
    </label>
  </div>
  <div class="bulk-buttons">
    <button class="btn-success btn-sm" id="bulkPublishBtn">
      ä¸€æ‹¬å…¬é–‹
    </button>
    <button class="btn-warning btn-sm" id="bulkUnpublishBtn">
      ä¸€æ‹¬éå…¬é–‹
    </button>
  </div>
</div>

<table class="menu-table">
  <thead>
    <tr>
      <th width="40">
        <input type="checkbox" id="selectAllHeader">
      </th>
      <th>åå‰</th>
      <!-- ... -->
    </tr>
  </thead>
  <tbody id="menuTableBody">
    <!-- å„è¡Œã«ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹è¿½åŠ  -->
    <tr>
      <td>
        <input type="checkbox" class="menu-checkbox" data-menu-id="123">
      </td>
      <td>ç‰¹è£½å¼å½“</td>
      <!-- ... -->
    </tr>
  </tbody>
</table>
```

**3. JavaScriptå®Ÿè£…**
```javascript
// static/js/store_menus.js ã«è¿½åŠ 

let selectedMenuIds = new Set();

// ä¸€æ‹¬æ“ä½œè¨­å®š
function setupBulkActions() {
  const selectAll = document.getElementById('selectAll');
  const selectAllHeader = document.getElementById('selectAllHeader');
  const bulkPublishBtn = document.getElementById('bulkPublishBtn');
  const bulkUnpublishBtn = document.getElementById('bulkUnpublishBtn');
  
  // å…¨é¸æŠ/å…¨è§£é™¤
  selectAll.addEventListener('change', toggleSelectAll);
  selectAllHeader.addEventListener('change', toggleSelectAll);
  
  // ä¸€æ‹¬å…¬é–‹
  bulkPublishBtn.addEventListener('click', () => {
    confirmBulkUpdate(true);
  });
  
  // ä¸€æ‹¬éå…¬é–‹
  bulkUnpublishBtn.addEventListener('click', () => {
    confirmBulkUpdate(false);
  });
}

// å…¨é¸æŠ/å…¨è§£é™¤
function toggleSelectAll(e) {
  const checkboxes = document.querySelectorAll('.menu-checkbox');
  const isChecked = e.target.checked;
  
  checkboxes.forEach(checkbox => {
    checkbox.checked = isChecked;
    const menuId = parseInt(checkbox.dataset.menuId);
    
    if (isChecked) {
      selectedMenuIds.add(menuId);
    } else {
      selectedMenuIds.delete(menuId);
    }
  });
  
  updateBulkActionsUI();
}

// ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹å¤‰æ›´æ™‚
function handleCheckboxChange(menuId, isChecked) {
  if (isChecked) {
    selectedMenuIds.add(menuId);
  } else {
    selectedMenuIds.delete(menuId);
  }
  
  updateBulkActionsUI();
}

// ä¸€æ‹¬æ“ä½œUIã®æ›´æ–°
function updateBulkActionsUI() {
  const bulkActions = document.getElementById('bulkActions');
  const selectedCount = document.getElementById('selectedCount');
  const count = selectedMenuIds.size;
  
  if (count > 0) {
    bulkActions.style.display = 'flex';
    selectedCount.textContent = `${count}ä»¶é¸æŠä¸­`;
  } else {
    bulkActions.style.display = 'none';
  }
}

// ä¸€æ‹¬æ›´æ–°ç¢ºèª
async function confirmBulkUpdate(isAvailable) {
  const count = selectedMenuIds.size;
  const action = isAvailable ? 'å…¬é–‹' : 'éå…¬é–‹';
  
  const confirmed = await showConfirmDialog({
    title: 'ç¢ºèª',
    message: `é¸æŠã—ãŸ${count}ä»¶ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’${action}ã«ã—ã¾ã™ã‹?`,
    confirmText: action + 'ã«ã™ã‚‹',
    cancelText: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«'
  });
  
  if (!confirmed) return;
  
  try {
    showLoading();
    
    const response = await fetch('/api/store/menus/bulk-availability', {
      method: 'PUT',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${getAuthToken()}`
      },
      body: JSON.stringify({
        menu_ids: Array.from(selectedMenuIds),
        is_available: isAvailable
      })
    });
    
    if (!response.ok) {
      throw new Error('ä¸€æ‹¬æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ');
    }
    
    const result = await response.json();
    showToast(result.message, 'success');
    
    // é¸æŠè§£é™¤
    selectedMenuIds.clear();
    updateBulkActionsUI();
    
    // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ã‚’æ›´æ–°
    await fetchMenus();
    
  } catch (error) {
    showToast('ä¸€æ‹¬æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + error.message, 'error');
  } finally {
    hideLoading();
  }
}
```

**4. CSSå®Ÿè£…**
```css
/* static/css/store_menus.css ã«è¿½åŠ  */
.bulk-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 20px;
  background-color: #e3f2fd;
  border: 1px solid #90caf9;
  border-radius: 4px;
  margin-bottom: 15px;
}

.bulk-info {
  display: flex;
  align-items: center;
  gap: 10px;
}

.bulk-buttons {
  display: flex;
  gap: 10px;
}

.checkbox-label {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
}

.menu-checkbox {
  cursor: pointer;
}
```

**5. ãƒ†ã‚¹ãƒˆå®Ÿè£…**
```python
# tests/test_store_menus.py ã«è¿½åŠ 

def test_bulk_update_availability(client, auth_headers_store, db_session, store_a):
    """è¤‡æ•°ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ä¸€æ‹¬æ›´æ–°ã§ãã‚‹"""
    from models import Menu
    
    # ãƒ†ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆ
    menu1 = Menu(name="å¼å½“1", price=1000, is_available=True, store_id=store_a.id)
    menu2 = Menu(name="å¼å½“2", price=1100, is_available=True, store_id=store_a.id)
    menu3 = Menu(name="å¼å½“3", price=1200, is_available=True, store_id=store_a.id)
    db_session.add_all([menu1, menu2, menu3])
    db_session.commit()
    
    response = client.put(
        "/api/store/menus/bulk-availability",
        headers=auth_headers_store,
        json={
            "menu_ids": [menu1.id, menu2.id, menu3.id],
            "is_available": False
        }
    )
    
    assert response.status_code == 200
    data = response.json()
    assert data["updated_count"] == 3
    
    # DBã§ç¢ºèª
    db_session.refresh(menu1)
    db_session.refresh(menu2)
    db_session.refresh(menu3)
    assert menu1.is_available is False
    assert menu2.is_available is False
    assert menu3.is_available is False

def test_bulk_update_empty_list(client, auth_headers_store):
    """ç©ºã®IDãƒªã‚¹ãƒˆã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹"""
    response = client.put(
        "/api/store/menus/bulk-availability",
        headers=auth_headers_store,
        json={
            "menu_ids": [],
            "is_available": False
        }
    )
    
    assert response.status_code == 422  # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼

def test_bulk_update_other_store_menus(client, auth_headers_store, store_b):
    """ä»–åº—èˆ—ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¯æ›´æ–°ã§ããªã„"""
    from models import Menu
    
    menu = Menu(name="ä»–åº—èˆ—å¼å½“", price=1000, store_id=store_b.id)
    db_session.add(menu)
    db_session.commit()
    
    response = client.put(
        "/api/store/menus/bulk-availability",
        headers=auth_headers_store,
        json={
            "menu_ids": [menu.id],
            "is_available": False
        }
    )
    
    assert response.status_code == 404
```

#### âœ… å—ã‘å…¥ã‚ŒåŸºæº–

**æ©Ÿèƒ½è¦ä»¶**:
- [ ] ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§è¤‡æ•°ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é¸æŠã§ãã‚‹
- [ ] å…¨é¸æŠ/å…¨è§£é™¤ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ãŒæ©Ÿèƒ½ã™ã‚‹
- [ ] é¸æŠä»¶æ•°ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã€Œä¸€æ‹¬å…¬é–‹ã€ãƒœã‚¿ãƒ³ã§é¸æŠãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒå…¬é–‹ã•ã‚Œã‚‹
- [ ] ã€Œä¸€æ‹¬éå…¬é–‹ã€ãƒœã‚¿ãƒ³ã§é¸æŠãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒéå…¬é–‹ã«ãªã‚‹
- [ ] ä¸€æ‹¬æ“ä½œå‰ã«ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ä¸€æ‹¬æ“ä½œå¾Œã«é¸æŠãŒè§£é™¤ã•ã‚Œã‚‹
- [ ] ä¸€æ‹¬æ“ä½œå¾Œã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ãŒè‡ªå‹•æ›´æ–°ã•ã‚Œã‚‹

**UI/UXè¦ä»¶**:
- [ ] é¸æŠä¸­ã®ã¿ä¸€æ‹¬æ“ä½œãƒãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ä¸€æ‹¬æ“ä½œä¸­ã«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºãŒã‚ã‚‹
- [ ] æ“ä½œæˆåŠŸæ™‚ã«ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] æ›´æ–°ä»¶æ•°ãŒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«è¡¨ç¤ºã•ã‚Œã‚‹

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶**:
- [ ] owner, manager ã®ã¿ãŒä¸€æ‹¬æ“ä½œã§ãã‚‹
- [ ] ä»–åº—èˆ—ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¯æ“ä½œã§ããªã„
- [ ] ç©ºã®IDãƒªã‚¹ãƒˆã¯ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶**:
- [ ] 100ä»¶ã®ä¸€æ‹¬æ›´æ–°ãŒ3ç§’ä»¥å†…ã«å®Œäº†ã™ã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: ä¸€æ‹¬å…¬é–‹
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: ä¸€æ‹¬éå…¬é–‹
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: ç©ºãƒªã‚¹ãƒˆã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: ä»–åº—èˆ—ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦
- [ ] E2Eãƒ†ã‚¹ãƒˆ: ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹é¸æŠã®å‹•ä½œç¢ºèª

---

## Issue #8: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚«ãƒ†ã‚´ãƒªç®¡ç†æ©Ÿèƒ½

### ğŸ“‹ ã‚¿ã‚¤ãƒˆãƒ«
**ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚«ãƒ†ã‚´ãƒªç®¡ç†æ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆã‚«ãƒ†ã‚´ãƒªCRUDãƒ»ãƒ•ã‚£ãƒ«ã‚¿ï¼‰**

### ğŸ“ èª¬æ˜

#### ğŸ¯ ç›®çš„ï¼ˆå®Ÿè£…å†…å®¹ï¼‰
ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ã‚«ãƒ†ã‚´ãƒªåˆ¥ã«åˆ†é¡ã—ã€é¡§å®¢ã®é–²è¦§æ€§ã¨åº—èˆ—ã®ç®¡ç†æ€§ã‚’å‘ä¸Šã•ã›ã¾ã™ã€‚å’Œé£Ÿã€æ´‹é£Ÿã€ä¸­è¯ãªã©ã®ã‚«ãƒ†ã‚´ãƒªã‚’ä½œæˆã—ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’åˆ†é¡ã™ã‚‹ã“ã¨ã§ã€å¤§é‡ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’åŠ¹ç‡çš„ã«ç®¡ç†ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

**å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½**:
- âœ… ã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿ç®¡ç†ï¼ˆCRUDï¼‰
- âœ… ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¸ã®ã‚«ãƒ†ã‚´ãƒªç´ä»˜ã‘
- âœ… ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ•ã‚£ãƒ«ã‚¿
- âœ… ã‚«ãƒ†ã‚´ãƒªã®è¡¨ç¤ºé †åºè¨­å®š
- âœ… ã‚«ãƒ†ã‚´ãƒªã®æœ‰åŠ¹/ç„¡åŠ¹åˆ‡æ›¿

#### ğŸ”§ ã‚¿ã‚¹ã‚¯ï¼ˆæŠ€è¡“ä»•æ§˜ï¼‰

**1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒè¿½åŠ **
```python
# models.py ã«è¿½åŠ 

class MenuCategory(Base):
    """ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚«ãƒ†ã‚´ãƒªãƒ†ãƒ¼ãƒ–ãƒ«"""
    __tablename__ = "menu_categories"
    
    id = Column(Integer, primary_key=True, index=True)
    name = Column(String(100), nullable=False)
    display_order = Column(Integer, default=0)  # è¡¨ç¤ºé †åº
    is_active = Column(Boolean, default=True)   # æœ‰åŠ¹/ç„¡åŠ¹
    store_id = Column(Integer, ForeignKey("stores.id", ondelete="CASCADE"), nullable=False, index=True)
    created_at = Column(DateTime(timezone=True), server_default=func.now())
    updated_at = Column(DateTime(timezone=True), server_default=func.now(), onupdate=func.now())
    
    # ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ãƒƒãƒ—
    store = relationship("Store", back_populates="menu_categories")
    menus = relationship("Menu", back_populates="category")

# Menu ãƒ¢ãƒ‡ãƒ«ã«è¿½åŠ 
category_id = Column(Integer, ForeignKey("menu_categories.id", ondelete="SET NULL"), nullable=True, index=True)
category = relationship("MenuCategory", back_populates="menus")
```

**2. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ**
```bash
# Alembic ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
alembic revision --autogenerate -m "add_menu_categories"
alembic upgrade head
```

**3. APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…**
```python
# routers/store.py ã«è¿½åŠ 

# ã‚«ãƒ†ã‚´ãƒªä¸€è¦§
@router.get("/menu-categories", response_model=List[MenuCategoryResponse])
def get_categories(
    db: Session = Depends(get_db),
    current_user: User = Depends(require_role(['owner', 'manager', 'staff']))
):
    """ã‚«ãƒ†ã‚´ãƒªä¸€è¦§å–å¾—"""
    categories = db.query(MenuCategory).filter(
        MenuCategory.store_id == current_user.store_id
    ).order_by(MenuCategory.display_order).all()
    return categories

# ã‚«ãƒ†ã‚´ãƒªä½œæˆ
@router.post("/menu-categories", response_model=MenuCategoryResponse)
def create_category(
    category: MenuCategoryCreate,
    db: Session = Depends(get_db),
    current_user: User = Depends(require_role(['owner', 'manager']))
):
    """ã‚«ãƒ†ã‚´ãƒªä½œæˆ"""
    db_category = MenuCategory(**category.dict(), store_id=current_user.store_id)
    db.add(db_category)
    db.commit()
    db.refresh(db_category)
    return db_category

# ã‚«ãƒ†ã‚´ãƒªæ›´æ–°
@router.put("/menu-categories/{category_id}", response_model=MenuCategoryResponse)
def update_category(
    category_id: int,
    category_update: MenuCategoryUpdate,
    db: Session = Depends(get_db),
    current_user: User = Depends(require_role(['owner', 'manager']))
):
    """ã‚«ãƒ†ã‚´ãƒªæ›´æ–°"""
    category = db.query(MenuCategory).filter(
        MenuCategory.id == category_id,
        MenuCategory.store_id == current_user.store_id
    ).first()
    
    if not category:
        raise HTTPException(status_code=404, detail="Category not found")
    
    update_data = category_update.dict(exclude_unset=True)
    for field, value in update_data.items():
        setattr(category, field, value)
    
    db.commit()
    db.refresh(category)
    return category

# ã‚«ãƒ†ã‚´ãƒªå‰Šé™¤
@router.delete("/menu-categories/{category_id}")
def delete_category(
    category_id: int,
    db: Session = Depends(get_db),
    current_user: User = Depends(require_role(['owner']))
):
    """ã‚«ãƒ†ã‚´ãƒªå‰Šé™¤ï¼ˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¯ã‚«ãƒ†ã‚´ãƒªãªã—ã«ãªã‚‹ï¼‰"""
    category = db.query(MenuCategory).filter(
        MenuCategory.id == category_id,
        MenuCategory.store_id == current_user.store_id
    ).first()
    
    if not category:
        raise HTTPException(status_code=404, detail="Category not found")
    
    db.delete(category)
    db.commit()
    return {"message": "Category deleted successfully"}

# ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ã«ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿è¿½åŠ 
@router.get("/menus", response_model=MenuListResponse)
def get_all_menus(
    category_id: Optional[int] = Query(None, description="ã‚«ãƒ†ã‚´ãƒªIDã§ãƒ•ã‚£ãƒ«ã‚¿"),
    # ... æ—¢å­˜ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
):
    """ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§å–å¾—ï¼ˆã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿å¯¾å¿œï¼‰"""
    query = db.query(Menu).filter(Menu.store_id == current_user.store_id)
    
    # ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿
    if category_id is not None:
        query = query.filter(Menu.category_id == category_id)
    
    # ... æ—¢å­˜ã®å‡¦ç†
```

**4. ã‚¹ã‚­ãƒ¼ãƒå®šç¾©**
```python
# schemas.py ã«è¿½åŠ 

class MenuCategoryBase(BaseModel):
    name: str = Field(..., min_length=1, max_length=100)
    display_order: int = Field(default=0)
    is_active: bool = Field(default=True)

class MenuCategoryCreate(MenuCategoryBase):
    pass

class MenuCategoryUpdate(BaseModel):
    name: Optional[str] = Field(None, min_length=1, max_length=100)
    display_order: Optional[int] = None
    is_active: Optional[bool] = None

class MenuCategoryResponse(MenuCategoryBase):
    id: int
    store_id: int
    created_at: datetime
    updated_at: datetime
    
    class Config:
        from_attributes = True

# MenuResponse ã«ã‚«ãƒ†ã‚´ãƒªæƒ…å ±è¿½åŠ 
class MenuResponse(MenuBase):
    # ... æ—¢å­˜ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
    category: Optional[MenuCategoryResponse] = None
```

**5. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…**
```html
<!-- ã‚«ãƒ†ã‚´ãƒªç®¡ç†ç”»é¢ -->
<div class="category-section">
  <h3>ã‚«ãƒ†ã‚´ãƒªç®¡ç†</h3>
  <button class="btn-primary" onclick="openCategoryModal()">
    + ã‚«ãƒ†ã‚´ãƒªè¿½åŠ 
  </button>
  
  <div class="category-list" id="categoryList">
    <!-- ã‚«ãƒ†ã‚´ãƒªä¸€è¦§ -->
  </div>
</div>

<!-- ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿ -->
<div class="category-filter">
  <button class="filter-btn active" data-category="all">ã™ã¹ã¦</button>
  <button class="filter-btn" data-category="1">å’Œé£Ÿ</button>
  <button class="filter-btn" data-category="2">æ´‹é£Ÿ</button>
  <button class="filter-btn" data-category="3">ä¸­è¯</button>
</div>
```

#### âœ… å—ã‘å…¥ã‚ŒåŸºæº–

**æ©Ÿèƒ½è¦ä»¶**:
- [ ] ã‚«ãƒ†ã‚´ãƒªã‚’ä½œæˆã§ãã‚‹
- [ ] ã‚«ãƒ†ã‚´ãƒªã‚’ç·¨é›†ã§ãã‚‹
- [ ] ã‚«ãƒ†ã‚´ãƒªã‚’å‰Šé™¤ã§ãã‚‹
- [ ] ã‚«ãƒ†ã‚´ãƒªã®è¡¨ç¤ºé †åºã‚’è¨­å®šã§ãã‚‹
- [ ] ã‚«ãƒ†ã‚´ãƒªã®æœ‰åŠ¹/ç„¡åŠ¹ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹
- [ ] ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«ã‚«ãƒ†ã‚´ãƒªã‚’è¨­å®šã§ãã‚‹
- [ ] ã‚«ãƒ†ã‚´ãƒªåˆ¥ã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ãƒ•ã‚£ãƒ«ã‚¿ã§ãã‚‹
- [ ] ã‚«ãƒ†ã‚´ãƒªãªã—ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚‚è¡¨ç¤ºã§ãã‚‹

**ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§**:
- [ ] ã‚«ãƒ†ã‚´ãƒªå‰Šé™¤æ™‚ã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¯ã‚«ãƒ†ã‚´ãƒªãªã—ã«ãªã‚‹
- [ ] ä»–åº—èˆ—ã®ã‚«ãƒ†ã‚´ãƒªã«ã¯ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: ã‚«ãƒ†ã‚´ãƒªCRUD
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿
- [ ] E2Eãƒ†ã‚¹ãƒˆ: ã‚«ãƒ†ã‚´ãƒªç®¡ç†ç”»é¢

---

## Issue #9: åœ¨åº«æ•°ç®¡ç†ãƒ»è‡ªå‹•åœ¨åº«åˆ‡ã‚Œæ©Ÿèƒ½

### ğŸ“‹ ã‚¿ã‚¤ãƒˆãƒ«
**åœ¨åº«æ•°ç®¡ç†ãƒ»è‡ªå‹•åœ¨åº«åˆ‡ã‚Œæ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆåœ¨åº«è¿½è·¡ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆï¼‰**

### ğŸ“ èª¬æ˜

#### ğŸ¯ ç›®çš„ï¼ˆå®Ÿè£…å†…å®¹ï¼‰
åœ¨åº«æ•°ã‚’ç®¡ç†ã—ã€åœ¨åº«åˆ‡ã‚Œæ™‚ã«è‡ªå‹•çš„ã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’éå…¬é–‹ã«ã™ã‚‹ã“ã¨ã§ã€åœ¨åº«åˆ‡ã‚Œå•†å“ã®æ³¨æ–‡ã‚’é˜²æ­¢ã—ã¾ã™ã€‚ã¾ãŸã€åœ¨åº«ãŒå°‘ãªããªã£ãŸéš›ã«ã‚¢ãƒ©ãƒ¼ãƒˆã‚’è¡¨ç¤ºã—ã€ã‚¹ã‚¿ãƒƒãƒ•ã«è£œå……ã‚’ä¿ƒã—ã¾ã™ã€‚

**å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½**:
- âœ… åœ¨åº«æ•°ã®ç®¡ç†ï¼ˆè¨­å®šãƒ»è¡¨ç¤ºãƒ»ç·¨é›†ï¼‰
- âœ… æ³¨æ–‡æ™‚ã®è‡ªå‹•åœ¨åº«æ¸›ç®—
- âœ… åœ¨åº«åˆ‡ã‚Œæ™‚ã®è‡ªå‹•éå…¬é–‹
- âœ… åœ¨åº«åˆ‡ã‚Œé–¾å€¤ã®è¨­å®š
- âœ… åœ¨åº«ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥
- âœ… åœ¨åº«å±¥æ­´ã®è¨˜éŒ²

#### ğŸ”§ ã‚¿ã‚¹ã‚¯ï¼ˆæŠ€è¡“ä»•æ§˜ï¼‰

**1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒæ‹¡å¼µ**
```python
# models.py ã® Menu ãƒ¢ãƒ‡ãƒ«ã«è¿½åŠ 

stock_quantity = Column(Integer, default=0)                     # åœ¨åº«æ•°
low_stock_threshold = Column(Integer, default=5)                # åœ¨åº«åˆ‡ã‚Œé–¾å€¤
auto_disable_on_out_of_stock = Column(Boolean, default=True)    # åœ¨åº«åˆ‡ã‚Œæ™‚ã«è‡ªå‹•éå…¬é–‹
unlimited_stock = Column(Boolean, default=False)                # ç„¡åˆ¶é™åœ¨åº«ãƒ•ãƒ©ã‚°

# åœ¨åº«å±¥æ­´ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 
class MenuStockHistory(Base):
    """ãƒ¡ãƒ‹ãƒ¥ãƒ¼åœ¨åº«å±¥æ­´ãƒ†ãƒ¼ãƒ–ãƒ«"""
    __tablename__ = "menu_stock_history"
    
    id = Column(Integer, primary_key=True, index=True)
    menu_id = Column(Integer, ForeignKey("menus.id", ondelete="CASCADE"), nullable=False, index=True)
    change_type = Column(String(50), nullable=False)  # "order", "restock", "adjustment"
    quantity_before = Column(Integer, nullable=False)
    quantity_after = Column(Integer, nullable=False)
    quantity_change = Column(Integer, nullable=False)
    changed_by = Column(Integer, ForeignKey("users.id"), nullable=True)
    order_id = Column(Integer, ForeignKey("orders.id"), nullable=True)
    notes = Column(Text)
    created_at = Column(DateTime(timezone=True), server_default=func.now())
```

**2. æ³¨æ–‡å‡¦ç†æ™‚ã®åœ¨åº«æ¸›ç®—ãƒ­ã‚¸ãƒƒã‚¯**
```python
# routers/customer.py ã®æ³¨æ–‡ä½œæˆå‡¦ç†ã«è¿½åŠ 

@router.post("/orders", response_model=OrderResponse)
def create_order(
    order_data: OrderCreate,
    db: Session = Depends(get_db),
    current_user: User = Depends(get_current_customer)
):
    """æ³¨æ–‡ä½œæˆï¼ˆåœ¨åº«ç¢ºèªãƒ»æ¸›ç®—ä»˜ãï¼‰"""
    
    # ãƒ¡ãƒ‹ãƒ¥ãƒ¼å–å¾—
    menu = db.query(Menu).filter(Menu.id == order_data.menu_id).first()
    
    if not menu:
        raise HTTPException(status_code=404, detail="Menu not found")
    
    # åœ¨åº«ç¢ºèªï¼ˆç„¡åˆ¶é™åœ¨åº«ã§ãªã„å ´åˆï¼‰
    if not menu.unlimited_stock:
        if menu.stock_quantity < order_data.quantity:
            raise HTTPException(
                status_code=400,
                detail=f"Insufficient stock. Available: {menu.stock_quantity}"
            )
        
        # åœ¨åº«æ¸›ç®—
        quantity_before = menu.stock_quantity
        menu.stock_quantity -= order_data.quantity
        quantity_after = menu.stock_quantity
        
        # åœ¨åº«å±¥æ­´è¨˜éŒ²
        stock_history = MenuStockHistory(
            menu_id=menu.id,
            change_type="order",
            quantity_before=quantity_before,
            quantity_after=quantity_after,
            quantity_change=-order_data.quantity,
            changed_by=current_user.id,
            notes=f"Order placed (quantity: {order_data.quantity})"
        )
        db.add(stock_history)
        
        # åœ¨åº«åˆ‡ã‚Œãƒã‚§ãƒƒã‚¯
        if menu.stock_quantity == 0 and menu.auto_disable_on_out_of_stock:
            menu.is_available = False
            # ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥ï¼ˆå®Ÿè£…ã¯åˆ¥é€”ï¼‰
            send_out_of_stock_alert(menu, current_user.store_id)
        
        # ä½åœ¨åº«ã‚¢ãƒ©ãƒ¼ãƒˆ
        elif menu.stock_quantity <= menu.low_stock_threshold:
            send_low_stock_alert(menu, current_user.store_id)
    
    # æ³¨æ–‡ä½œæˆ
    # ... æ—¢å­˜ã®å‡¦ç†
    
    db.commit()
    return order
```

**3. åœ¨åº«ç®¡ç†APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**
```python
# routers/store.py ã«è¿½åŠ 

# åœ¨åº«æ›´æ–°ï¼ˆè£œå……ãƒ»èª¿æ•´ï¼‰
@router.put("/menus/{menu_id}/stock", response_model=MenuResponse)
def update_stock(
    menu_id: int,
    stock_update: MenuStockUpdate,
    db: Session = Depends(get_db),
    current_user: User = Depends(require_role(['owner', 'manager']))
):
    """
    åœ¨åº«æ•°ã‚’æ›´æ–°
    
    **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**
    - action: "set" (è¨­å®š), "add" (è¿½åŠ ), "subtract" (æ¸›ç®—)
    - quantity: æ•°é‡
    - notes: ãƒ¡ãƒ¢
    """
    menu = db.query(Menu).filter(
        Menu.id == menu_id,
        Menu.store_id == current_user.store_id
    ).first()
    
    if not menu:
        raise HTTPException(status_code=404, detail="Menu not found")
    
    quantity_before = menu.stock_quantity
    
    # åœ¨åº«æ“ä½œ
    if stock_update.action == "set":
        menu.stock_quantity = stock_update.quantity
    elif stock_update.action == "add":
        menu.stock_quantity += stock_update.quantity
    elif stock_update.action == "subtract":
        menu.stock_quantity = max(0, menu.stock_quantity - stock_update.quantity)
    
    quantity_after = menu.stock_quantity
    quantity_change = quantity_after - quantity_before
    
    # åœ¨åº«å±¥æ­´è¨˜éŒ²
    stock_history = MenuStockHistory(
        menu_id=menu.id,
        change_type="adjustment",
        quantity_before=quantity_before,
        quantity_after=quantity_after,
        quantity_change=quantity_change,
        changed_by=current_user.id,
        notes=stock_update.notes
    )
    db.add(stock_history)
    
    # åœ¨åº«å¾©æ´»æ™‚ã¯è‡ªå‹•å…¬é–‹
    if quantity_before == 0 and quantity_after > 0:
        menu.is_available = True
    
    db.commit()
    db.refresh(menu)
    
    return menu

# åœ¨åº«å±¥æ­´å–å¾—
@router.get("/menus/{menu_id}/stock-history")
def get_stock_history(
    menu_id: int,
    limit: int = Query(50, ge=1, le=100),
    db: Session = Depends(get_db),
    current_user: User = Depends(require_role(['owner', 'manager', 'staff']))
):
    """åœ¨åº«å¤‰æ›´å±¥æ­´ã‚’å–å¾—"""
    # ... å®Ÿè£…
```

**4. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…**
```html
<!-- åœ¨åº«ç®¡ç†ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<div class="stock-section">
  <label>åœ¨åº«æ•°</label>
  <div class="stock-controls">
    <input type="number" id="stockQuantity" min="0" value="100">
    <label>
      <input type="checkbox" id="unlimitedStock">
      ç„¡åˆ¶é™åœ¨åº«
    </label>
  </div>
  
  <label>åœ¨åº«åˆ‡ã‚Œé–¾å€¤</label>
  <input type="number" id="lowStockThreshold" min="0" value="5">
  <small>ã“ã®æ•°é‡ä»¥ä¸‹ã«ãªã‚‹ã¨ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤º</small>
  
  <label>
    <input type="checkbox" id="autoDisable" checked>
    åœ¨åº«åˆ‡ã‚Œæ™‚ã«è‡ªå‹•éå…¬é–‹
  </label>
</div>

<!-- åœ¨åº«ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤º -->
<div class="alert alert-warning" id="lowStockAlert" style="display:none;">
  <strong>âš  åœ¨åº«åˆ‡ã‚Œé–“è¿‘:</strong>
  <span id="lowStockMenus"></span>
</div>
```

#### âœ… å—ã‘å…¥ã‚ŒåŸºæº–

**æ©Ÿèƒ½è¦ä»¶**:
- [ ] ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«åœ¨åº«æ•°ã‚’è¨­å®šã§ãã‚‹
- [ ] åœ¨åº«åˆ‡ã‚Œé–¾å€¤ã‚’è¨­å®šã§ãã‚‹
- [ ] ç„¡åˆ¶é™åœ¨åº«ãƒ•ãƒ©ã‚°ã‚’è¨­å®šã§ãã‚‹
- [ ] æ³¨æ–‡æ™‚ã«åœ¨åº«ãŒè‡ªå‹•æ¸›ç®—ã•ã‚Œã‚‹
- [ ] åœ¨åº«0ã§è‡ªå‹•éå…¬é–‹ã«ãªã‚‹ï¼ˆè¨­å®šæ™‚ï¼‰
- [ ] åœ¨åº«è£œå……æ™‚ã«è‡ªå‹•å…¬é–‹ã•ã‚Œã‚‹
- [ ] åœ¨åº«åˆ‡ã‚Œé–¾å€¤ä»¥ä¸‹ã§ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] åœ¨åº«å±¥æ­´ãŒè¨˜éŒ²ã•ã‚Œã‚‹

**ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§**:
- [ ] åœ¨åº«ãŒãƒã‚¤ãƒŠã‚¹ã«ãªã‚‰ãªã„
- [ ] åœ¨åº«ä¸è¶³æ™‚ã«æ³¨æ–‡ãŒã§ããªã„
- [ ] ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä¿è¨¼ï¼ˆåœ¨åº«ã¨æ³¨æ–‡ã®æ•´åˆæ€§ï¼‰

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: åœ¨åº«æ¸›ç®—
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: åœ¨åº«ä¸è¶³ã‚¨ãƒ©ãƒ¼
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: è‡ªå‹•éå…¬é–‹
- [ ] E2Eãƒ†ã‚¹ãƒˆ: æ³¨æ–‡ãƒ•ãƒ­ãƒ¼å…¨ä½“

---

## Issue #10: ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¤‰æ›´å±¥æ­´ãƒ»ç›£æŸ»ãƒ­ã‚°

### ğŸ“‹ ã‚¿ã‚¤ãƒˆãƒ«
**ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¤‰æ›´å±¥æ­´ãƒ»ç›£æŸ»ãƒ­ã‚°æ©Ÿèƒ½ã®å®Ÿè£…ï¼ˆå¤‰æ›´è¿½è·¡ãƒ»ç›£æŸ»å¯¾å¿œï¼‰**

### ğŸ“ èª¬æ˜

#### ğŸ¯ ç›®çš„ï¼ˆå®Ÿè£…å†…å®¹ï¼‰
ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®å¤‰æ›´å±¥æ­´ã‚’è¨˜éŒ²ã—ã€ç›£æŸ»ãƒ»ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ»ãƒ‡ãƒ¼ã‚¿åˆ†æã«æ´»ç”¨ã—ã¾ã™ã€‚èª°ãŒã€ã„ã¤ã€ä½•ã‚’å¤‰æ›´ã—ãŸã‹ã‚’è¿½è·¡å¯èƒ½ã«ã™ã‚‹ã“ã¨ã§ã€ä¸æ­£æ“ä½œã®é˜²æ­¢ã¨å•é¡Œç™ºç”Ÿæ™‚ã®åŸå› ç‰¹å®šã‚’å®¹æ˜“ã«ã—ã¾ã™ã€‚

**å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½**:
- âœ… ä¾¡æ ¼å¤‰æ›´å±¥æ­´ã®è¨˜éŒ²
- âœ… å¤‰æ›´è€…ãƒ»å¤‰æ›´æ—¥æ™‚ã®è¨˜éŒ²
- âœ… å¤‰æ›´å†…å®¹ã®å·®åˆ†è¡¨ç¤º
- âœ… å¤‰æ›´å±¥æ­´ã®æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿
- âœ… å¤‰æ›´å±¥æ­´ã®é–²è¦§ç”»é¢
- âœ… CSV/Excel ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

#### ğŸ”§ ã‚¿ã‚¹ã‚¯ï¼ˆæŠ€è¡“ä»•æ§˜ï¼‰

**1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒè¿½åŠ **
```python
# models.py ã«è¿½åŠ 

class MenuChangeLog(Base):
    """ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¤‰æ›´å±¥æ­´ãƒ†ãƒ¼ãƒ–ãƒ«"""
    __tablename__ = "menu_change_logs"
    
    id = Column(Integer, primary_key=True, index=True)
    menu_id = Column(Integer, ForeignKey("menus.id", ondelete="CASCADE"), nullable=False, index=True)
    changed_by = Column(Integer, ForeignKey("users.id"), nullable=False, index=True)
    change_type = Column(String(50), nullable=False)  # "created", "updated", "deleted", "availability_changed"
    field_name = Column(String(100))  # å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å
    old_value = Column(Text)          # å¤‰æ›´å‰ã®å€¤ï¼ˆJSONï¼‰
    new_value = Column(Text)          # å¤‰æ›´å¾Œã®å€¤ï¼ˆJSONï¼‰
    ip_address = Column(String(45))   # IPã‚¢ãƒ‰ãƒ¬ã‚¹
    user_agent = Column(String(255))  # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
    changed_at = Column(DateTime(timezone=True), server_default=func.now(), index=True)
    
    # ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ãƒƒãƒ—
    menu = relationship("Menu")
    user = relationship("User")
```

**2. å¤‰æ›´å±¥æ­´è¨˜éŒ²ãƒ­ã‚¸ãƒƒã‚¯**
```python
# routers/store.py ã«å¤‰æ›´å±¥æ­´è¨˜éŒ²ã‚’è¿½åŠ 

import json
from fastapi import Request

def log_menu_change(
    db: Session,
    menu_id: int,
    changed_by: int,
    change_type: str,
    old_values: dict = None,
    new_values: dict = None,
    request: Request = None
):
    """ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¤‰æ›´å±¥æ­´ã‚’è¨˜éŒ²"""
    
    # å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æ¤œå‡º
    if old_values and new_values:
        for field, new_val in new_values.items():
            old_val = old_values.get(field)
            if old_val != new_val:
                log = MenuChangeLog(
                    menu_id=menu_id,
                    changed_by=changed_by,
                    change_type=change_type,
                    field_name=field,
                    old_value=json.dumps(old_val, ensure_ascii=False) if old_val is not None else None,
                    new_value=json.dumps(new_val, ensure_ascii=False) if new_val is not None else None,
                    ip_address=request.client.host if request else None,
                    user_agent=request.headers.get("user-agent") if request else None
                )
                db.add(log)
    else:
        # ä½œæˆ/å‰Šé™¤ã®å ´åˆ
        log = MenuChangeLog(
            menu_id=menu_id,
            changed_by=changed_by,
            change_type=change_type,
            old_value=json.dumps(old_values, ensure_ascii=False) if old_values else None,
            new_value=json.dumps(new_values, ensure_ascii=False) if new_values else None,
            ip_address=request.client.host if request else None,
            user_agent=request.headers.get("user-agent") if request else None
        )
        db.add(log)

# ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ›´æ–°ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«è¿½åŠ 
@router.put("/menus/{menu_id}", response_model=MenuResponse)
def update_menu(
    menu_id: int,
    menu_update: MenuUpdate,
    request: Request,
    db: Session = Depends(get_db),
    current_user: User = Depends(require_role(['owner', 'manager']))
):
    """ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ›´æ–°ï¼ˆå¤‰æ›´å±¥æ­´è¨˜éŒ²ä»˜ãï¼‰"""
    
    menu = db.query(Menu).filter(
        Menu.id == menu_id,
        Menu.store_id == current_user.store_id
    ).first()
    
    if not menu:
        raise HTTPException(status_code=404, detail="Menu not found")
    
    # å¤‰æ›´å‰ã®å€¤ã‚’ä¿å­˜
    old_values = {
        "name": menu.name,
        "price": menu.price,
        "description": menu.description,
        "is_available": menu.is_available
    }
    
    # æ›´æ–°ãƒ‡ãƒ¼ã‚¿ã‚’é©ç”¨
    update_data = menu_update.dict(exclude_unset=True)
    for field, value in update_data.items():
        setattr(menu, field, value)
    
    # å¤‰æ›´å±¥æ­´è¨˜éŒ²
    log_menu_change(
        db=db,
        menu_id=menu_id,
        changed_by=current_user.id,
        change_type="updated",
        old_values=old_values,
        new_values=update_data,
        request=request
    )
    
    db.commit()
    db.refresh(menu)
    
    return menu
```

**3. å¤‰æ›´å±¥æ­´é–²è¦§API**
```python
# routers/store.py ã«è¿½åŠ 

@router.get("/menus/{menu_id}/change-logs")
def get_menu_change_logs(
    menu_id: int,
    change_type: Optional[str] = Query(None),
    start_date: Optional[date] = Query(None),
    end_date: Optional[date] = Query(None),
    page: int = Query(1, ge=1),
    per_page: int = Query(20, ge=1, le=100),
    db: Session = Depends(get_db),
    current_user: User = Depends(require_role(['owner', 'manager']))
):
    """
    ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¤‰æ›´å±¥æ­´ã‚’å–å¾—
    
    **ãƒ•ã‚£ãƒ«ã‚¿:**
    - change_type: å¤‰æ›´ã‚¿ã‚¤ãƒ—
    - start_date: é–‹å§‹æ—¥
    - end_date: çµ‚äº†æ—¥
    """
    # ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè‡ªåº—èˆ—ã®ã‚‚ã®ã‹ç¢ºèª
    menu = db.query(Menu).filter(
        Menu.id == menu_id,
        Menu.store_id == current_user.store_id
    ).first()
    
    if not menu:
        raise HTTPException(status_code=404, detail="Menu not found")
    
    # å¤‰æ›´å±¥æ­´å–å¾—
    query = db.query(MenuChangeLog).filter(MenuChangeLog.menu_id == menu_id)
    
    # ãƒ•ã‚£ãƒ«ã‚¿é©ç”¨
    if change_type:
        query = query.filter(MenuChangeLog.change_type == change_type)
    
    if start_date:
        query = query.filter(MenuChangeLog.changed_at >= start_date)
    
    if end_date:
        query = query.filter(MenuChangeLog.changed_at <= end_date)
    
    # ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
    total = query.count()
    offset = (page - 1) * per_page
    logs = query.order_by(MenuChangeLog.changed_at.desc()).offset(offset).limit(per_page).all()
    
    return {
        "logs": logs,
        "total": total,
        "page": page,
        "per_page": per_page
    }

# å…¨ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®å¤‰æ›´å±¥æ­´å–å¾—ï¼ˆç›£æŸ»ç”¨ï¼‰
@router.get("/change-logs/all")
def get_all_change_logs(
    change_type: Optional[str] = Query(None),
    changed_by: Optional[int] = Query(None),
    start_date: Optional[date] = Query(None),
    end_date: Optional[date] = Query(None),
    page: int = Query(1, ge=1),
    per_page: int = Query(50, ge=1, le=100),
    db: Session = Depends(get_db),
    current_user: User = Depends(require_role(['owner']))
):
    """å…¨ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®å¤‰æ›´å±¥æ­´ã‚’å–å¾—ï¼ˆã‚ªãƒ¼ãƒŠãƒ¼å°‚ç”¨ï¼‰"""
    # ... å®Ÿè£…
```

**4. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…**
```html
<!-- å¤‰æ›´å±¥æ­´ç”»é¢ -->
<div class="change-log-section">
  <h3>å¤‰æ›´å±¥æ­´</h3>
  
  <div class="log-filters">
    <select id="changeTypeFilter">
      <option value="">ã™ã¹ã¦ã®å¤‰æ›´</option>
      <option value="updated">æ›´æ–°</option>
      <option value="availability_changed">å…¬é–‹/éå…¬é–‹</option>
    </select>
    
    <input type="date" id="startDate">
    <input type="date" id="endDate">
    
    <button onclick="filterLogs()">ãƒ•ã‚£ãƒ«ã‚¿</button>
    <button onclick="exportLogs()">CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
  </div>
  
  <table class="log-table">
    <thead>
      <tr>
        <th>æ—¥æ™‚</th>
        <th>å¤‰æ›´è€…</th>
        <th>å¤‰æ›´å†…å®¹</th>
        <th>å¤‰æ›´å‰</th>
        <th>å¤‰æ›´å¾Œ</th>
      </tr>
    </thead>
    <tbody id="logTableBody">
      <!-- å¤‰æ›´å±¥æ­´ä¸€è¦§ -->
    </tbody>
  </table>
</div>
```

#### âœ… å—ã‘å…¥ã‚ŒåŸºæº–

**æ©Ÿèƒ½è¦ä»¶**:
- [ ] ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆæ™‚ã«å±¥æ­´ãŒè¨˜éŒ²ã•ã‚Œã‚‹
- [ ] ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ›´æ–°æ™‚ã«å¤‰æ›´å†…å®¹ãŒè¨˜éŒ²ã•ã‚Œã‚‹
- [ ] ãƒ¡ãƒ‹ãƒ¥ãƒ¼å‰Šé™¤æ™‚ã«å±¥æ­´ãŒè¨˜éŒ²ã•ã‚Œã‚‹
- [ ] å¤‰æ›´è€…ãƒ»æ—¥æ™‚ãŒè¨˜éŒ²ã•ã‚Œã‚‹
- [ ] å¤‰æ›´å‰å¾Œã®å€¤ãŒè¨˜éŒ²ã•ã‚Œã‚‹
- [ ] IPã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒè¨˜éŒ²ã•ã‚Œã‚‹
- [ ] å¤‰æ›´å±¥æ­´ã‚’é–²è¦§ã§ãã‚‹
- [ ] å¤‰æ›´å±¥æ­´ã‚’ãƒ•ã‚£ãƒ«ã‚¿ã§ãã‚‹
- [ ] å¤‰æ›´å±¥æ­´ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§ãã‚‹

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ç›£æŸ»**:
- [ ] owner ã®ã¿ãŒå…¨å±¥æ­´ã‚’é–²è¦§ã§ãã‚‹
- [ ] å¤‰æ›´å±¥æ­´ã¯å‰Šé™¤ã§ããªã„ï¼ˆç›£æŸ»è¨¼è·¡ï¼‰
- [ ] å¤‰æ›´å±¥æ­´ã¯æ”¹ã–ã‚“ã§ããªã„

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**:
- [ ] å¤§é‡ã®å±¥æ­´ã§ã‚‚ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã§å¿«é©ã«é–²è¦§ã§ãã‚‹
- [ ] å±¥æ­´è¨˜éŒ²ãŒãƒ¡ã‚¤ãƒ³å‡¦ç†ã‚’é…å»¶ã•ã›ãªã„

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: å±¥æ­´è¨˜éŒ²
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: å±¥æ­´å–å¾—
- [ ] E2Eãƒ†ã‚¹ãƒˆ: å¤‰æ›´å±¥æ­´ç”»é¢

---

**ä½œæˆè€…**: GitHub Copilot  
**æœ€çµ‚æ›´æ–°**: 2025å¹´10æœˆ13æ—¥
